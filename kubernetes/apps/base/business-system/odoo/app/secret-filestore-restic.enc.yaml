---
# SOPS-encrypted secret for VolSync restic backups
# To edit: sops kubernetes/apps/base/business-system/odoo/app/secret-filestore-restic.enc.yaml
#
# Required values:
#   RESTIC_PASSWORD: Generate with: openssl rand -base64 32
#   RCLONE_CONFIG_GCS_SERVICE_ACCOUNT_CREDENTIALS: Get from 1Password "odoo-objstore" -> serviceAccount
#                                                   Or: terraform -chdir=terraform/gcp output -raw odoo_backup_sa_key | base64 -d
apiVersion: v1
kind: Secret
metadata:
  name: odoo-filestore-restic
  namespace: business-system
type: Opaque
stringData:
  # Restic repository using rclone backend for GCS
  RESTIC_REPOSITORY: "rclone:gcs:hayden-odoo-backups/filestore"
  # Encryption password for restic repository (CRITICAL - store securely!)
  RESTIC_PASSWORD: "REPLACE_WITH_GENERATED_PASSWORD"
  # Rclone GCS configuration via environment variables
  RCLONE_CONFIG_GCS_TYPE: "google cloud storage"
  # GCS service account JSON (paste the full JSON here)
  RCLONE_CONFIG_GCS_SERVICE_ACCOUNT_CREDENTIALS: |
    REPLACE_WITH_SERVICE_ACCOUNT_JSON
