---
apiVersion: v1
kind: ConfigMap
metadata:
  name: enemy-territory-config
  namespace: game-servers
data:
  server.cfg: |
    // load secret config
    exec hs_etpub.cfg

    // MASTER SERVERS
    set sv_master1 "etmaster.idsoftware.com"
    set sv_master2 "master.etlegacy.com"
    set sv_master3 "master0.etmaster.net"

    // SERVER IDENTITY
    set sv_hostname "^2|^0HS^2| ^7New Server"
    set sv_fullmsg "Server is full."

    // NETWORK
    set sv_allowDownload "1"
    set sv_dl_maxRate "42000"
    set sv_floodProtect "1"
    set sv_maxPing "0"
    set sv_minPing "0"
    set sv_maxRate "13000"
    set sv_lanForceRate "1"
    set sv_punkbuster "0"

    // GAMEPLAY
    set g_antilag "1"
    set g_friendlyFire "1"
    set g_maxlives "0"
    set g_teamforcebalance "1"
    set g_noTeamSwitching "0"
    set g_heavyWeaponRestriction "100"
    set g_autofireteams "1"
    set g_voiceChatsAllowed "4"
    set g_disableComplaints "0"
    set g_complaintlimit "6"
    set g_ipcomplaintlimit "3"
    set g_warmup "30"
    set g_doWarmup "0"
    set g_landminetimeout "1"
    set g_filterBan "1"
    set g_enforcemaxlives "1"

    // LMS
    set g_lms_followTeamOnly "1"
    set g_lms_lockTeams "0"
    set g_lms_matchlimit "2"
    set g_lms_roundlimit "3"
    set g_lms_teamForceBalance "1"

    // LOGGING
    set g_log "etserver.log"
    set g_logsync "0"

    // ENGINE
    set com_watchdog_cmd "exec objectivecycle.cfg"
    set com_watchdog "60"
    set com_hunkMegs "56"
    set com_zoneMegs "24"
    set timelimit "30"

    // OMNI-BOT
    bot maxbots 16
    bot balanceteams 1
    bot difficulty 4
  campaigncycle.cfg: |
    set d1 "campaign cmpgn_northafrica ; set nextcampaign vstr d2"
    set d2 "campaign cmpgn_centraleurope ; set nextcampaign vstr d1"

    // server doesn't recognise the campaign command when the gamecode isn't running yet.
    set d_initial "set g_gametype 4 ; map oasis ; set nextcampaign vstr d2"
    vstr d_initial
  lmscycle.cfg: |
    set d1 "set g_gametype 5 ; map oasis ; set nextmap vstr d2"
    set d2 "set g_gametype 5 ; map battery ; set nextmap vstr d3"
    set d3 "set g_gametype 5 ; map goldrush ; set nextmap vstr d4"
    set d4 "set g_gametype 5 ; map radar ; set nextmap vstr d5"
    set d5 "set g_gametype 5 ; map railgun ; set nextmap vstr d6"
    set d6 "set g_gametype 5 ; map fueldump ; set nextmap vstr d1"
    vstr d1
  objectivecycle.cfg: |
    set d1 "set g_gametype 2 ; map oasis ; set nextmap vstr d2"
    set d2 "set g_gametype 2 ; map battery ; set nextmap vstr d3"
    set d3 "set g_gametype 2 ; map goldrush ; set nextmap vstr d4"
    set d4 "set g_gametype 2 ; map radar ; set nextmap vstr d5"
    set d5 "set g_gametype 2 ; map railgun ; set nextmap vstr d6"
    set d6 "set g_gametype 2 ; map fueldump ; set nextmap vstr d1"
    vstr d1
  mapvotecycle.cfg: |
    // Each map in this map order is executed whenever there are no votes for a map,
    // otherwise, the map that gets the most votes for is played
    set d1 "set g_gametype 6 ; map oasis ; set nextmap vstr d2"
    set d2 "set g_gametype 6 ; map battery ; set nextmap vstr d3"
    set d3 "set g_gametype 6 ; map goldrush ; set nextmap vstr d4"
    set d4 "set g_gametype 6 ; map radar ; set nextmap vstr d5"
    set d5 "set g_gametype 6 ; map railgun ; set nextmap vstr d6"
    set d6 "set g_gametype 6 ; map fueldump ; set nextmap vstr d1"
    vstr d1
  mapvoteplayerscount.cfg: |
    // Map Vote Player Count
    // config file used for listing maps depending of players number in map vote mod
    // if the config file doesn't exist, all the map are listed
    // if the map doesn't exist in the config file, the map will appear in the map vote list
    // if the minimum / maximum values is < 0, one or both condition is not take into account
    // there is no limit for minimum / maximum values
    //
    //      map             min max
            "oasis"     -1  -1
            "battery"   -1  -1
            "goldrush"  -1  -1
            "radar"     -1  -1
            "railgun"   -1  -1
            "fueldump"  -1  -1
