version: v1alpha1
debug: false
persist: true
# Provides machine specific configuration options.
machine:
    # Defines the role of the machine within the cluster.
    type: controlplane
    # The `token` is used by a machine to join the PKI of the cluster.
    token: ENC[AES256_GCM,data:ycgMcQmGdIcUN33sjkTzVEDkNW8s3YA=,iv:bzZMwY9NRU2v8SEYDrmTWCm7pHt1ci45YUGR4scT1SM=,tag:eH2DqfBLZakz2SY8ivhyUQ==,type:str]
    # The root certificate authority of the PKI.
    ca:
        crt: ENC[AES256_GCM,data:VSRGUsAV9k0kWYWBV1MDBBo5uD2j0PkwNtu7ajs1k+b0cnoaz/QKMo8R52tiuchFRgx6bOmbDzle6JEJ/cGKslpY537NrTAZhxXuHhUv55pZ9Qrs8oyjU50NhjKqSsp6QmpZUHnQCHVANCuRaHBYH8EdY3+VfDOG04holDs/n08cPFsAOf/lu4cVizdIfZnvAWYlaRI+7q67hlNFPjSUwi/hLRKegV0JZKRb4/VqBxcaznBt+mYIxq9wFdzIEfAZ8NEvxI3BM8aFCWvM47PtjTyWKIBdEPvFEDVYVb5v/YdQCNU0TCaoeEBydfNc7FD60hcH3pWmfie/hTrZF9qyMebNtXidY3O9GobjMQLu0AdgNyvqBhHms8w+e1x0Ct3SA9qnGhkPLufMRCjpaZ2MmVGc9FuDChGD9j3X8UO88E3Dd3H52vwahim4cM11Ps4O0xRxzho463S6X585NvMorvXcjd8/Vlo+Z9E4/V7vlNLz3LYWkmc91xHpFu/7qhMc+kcduhqha2yUD5YgYmokgOneXC5GsY5RrFLiVJWw5eSntEQ2JogVwokoYqTGIa2FnUwa+OIfFQYJLLQNZrflhGrqpzOGYQwBijuPYsaT/d4CpbOlZl5eeOv9HXcAbrYwIDEQmFY8NGW8rO3YmZU1bjd/g93d1Nk3AU1fy4cv6p9MtDVIkZlg4r15Ror+6RV1KV7ykZFn7twMwG27YY2f6bVUFFTJzQMcr4zkLMt3t6Q33fiI7XNYnQJQSwynd0ScF7cttKYSCgUSsFu8/ohqc5o9+LmifNsUfXk1BbAlUiPaE+p7sh7otYyO2XTjAEoBi4i95zqCZTCn6Vfx/RzsSGiJiWBoHF/kgvDpC37pNBXzhBmp,iv:HgmarYPWSyWnjBCzFheuqKyPjy8zbRsnTEOg1CR2Pbo=,tag:wIodnxkfhKwPlkLxxHRNXg==,type:str]
        key: ENC[AES256_GCM,data:B+BxAHx5sPq87BseSHpIDnhBcxuA6Fs5UyFl6WczXKamXS0Qd8Ax14HLMfm8I4mhVo37Cjy69CahS+0aNZF5a5EhIXbftPQQ3ZrFVQrRB9/OJDO/owXad//Kck9JdeHg10pKy8PZbXMEu4IrtQF+MGXRvQ1tsWauSiTv58d5+FQoTTTLFXm29KRcIRUnqvTH2SV/g1AEkm6czL86Th5IX19hRjwCRgQolY1ni7yiDMkAyI02,iv:yQOrgt5fPprr6Ls9PofpeSKcapJDSGldX/h5bPODBrM=,tag:YfDZIoU0Q3TuO+B6zfMh+A==,type:str]
    # Extra certificate subject alternative names for the machine's certificate.
    certSANs:
        - api.raspbernetes.com
        - talos.api.raspbernetes.com
        - 192.168.50.200
    kubelet:
        image: ghcr.io/siderolabs/kubelet:v1.34.1
        defaultRuntimeSeccompProfileEnabled: true
        disableManifestsDirectory: true
    network:
        interfaces:
            - deviceSelector:
                physical: ENC[AES256_GCM,data:/nKWwA==,iv:tQq0fscCaOAZMBHP5NPMvdnb0cy3LJ5QqeD02rZgd3c=,tag:FIdeKTThSDIwoBqqEr6DYg==,type:bool]
              dhcp: true
              mtu: 1450
              vip:
                ip: 192.168.50.200
    install:
        diskSelector:
            size: '>= 1TB'
            model: CT1000BX500SSD1
        image: factory.talos.dev/installer/c9078f9419961640c712a8bf2bb9174933dfcf1da383fd8ea2b7dc21493f8bac:v1.11.3
        wipe: true
    registries: {}
    features:
        rbac: true
        stableHostname: true
        apidCheckExtKeyUsage: ENC[AES256_GCM,data:xivlXQ==,iv:Cxw+IQaDkLxo+Ex0VE+odvSWadqZeP42xjai5VmBqa4=,tag:E12SBpJ3Asq+gM995PQnZg==,type:bool]
        diskQuotaSupport: true
        kubePrism:
            enabled: true
            port: 7445
        kubernetesTalosAPIAccess:
            enabled: true
            allowedRoles:
                - os:reader
                - os:admin
            allowedKubernetesNamespaces:
                - kube-system
                - actions-runner-system
        hostDNS:
            enabled: true
            forwardKubeDNSToHost: false
            resolveMemberNames: true
    files:
        # REQUIRED: The following documentation explains why these are needed.
        # https://spegel.dev/docs/getting-started/#talos
        - op: create
          path: /etc/cri/conf.d/20-customization.part
          content: |
            [plugins."io.containerd.cri.v1.images"]
              discard_unpacked_layers = false
            [plugins."io.containerd.cri.v1.runtime"]
              cdi_spec_dirs = ["/var/cdi/static", "/var/cdi/dynamic"]
              device_ownership_from_security_context = true
            [metrics]
              address = "0.0.0.0:11234"
cluster:
    # Globally unique identifier for this cluster (base64 encoded random 32 bytes).
    id: GsSf9LerhTOpktH7JMlySUhdB4tdxlX1b6ZDGM7a8ZE=
    # Shared secret of cluster (base64 encoded random 32 bytes).
    secret: ENC[AES256_GCM,data:yGRV3zBarY37yoD8JbI0BAJS00y/fnYhNnHfjyavq4jrUvKopeJPfDBG19w=,iv:D1krh+MMo3Ry2h4+alsDfG0t9QW/hx+9Hy4uLKWHURs=,tag:LvNnVhbp6XE/9ulPl4CqrQ==,type:str]
    # Provides control plane specific configuration options.
    controlPlane:
        endpoint: https://192.168.50.200:6443
    clusterName: cluster-00
    network:
        dnsDomain: cluster.local
        podSubnets:
            - 10.244.0.0/16
        serviceSubnets:
            - 10.96.0.0/12
        cni:
            name: custom
            urls:
                - https://raw.githubusercontent.com/xUnholy/k8s-gitops/main/talos/integrations/cilium/cilium.yaml
    # The [bootstrap token](https://kubernetes.io/docs/reference/access-authn-authz/bootstrap-tokens/) used to join the cluster.
    token: ENC[AES256_GCM,data:69UKDO7ZhrZlAyWjIeRusZu5y+ZEeNg=,iv:pwTeIfcXfBoN2M+pd0BhZJnWBGDPOJZ0AxcowygntE4=,tag:bm1wfOFM75IWszfsF4MhpQ==,type:str]
    # A key used for the [encryption of secret data at rest](https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/).
    secretboxEncryptionSecret: ENC[AES256_GCM,data:RvjD5rdu8D5nxBylom3mLtcvl3ShXvlP7QRjiTTe1nJzWqfjMzqw0V8ShhQ=,iv:Zpr2Obk0dPlS+0rE2OtX2w71OqfrZJqF13DGz90GH2I=,tag:4INseHS53xlujkQK0LE5kA==,type:str]
    # The base64 encoded root certificate authority used by Kubernetes.
    ca:
        crt: ENC[AES256_GCM,data:rawuW0RPW0NEp8/7Sn1HBRIhj3TIw7J8sNgGUJy8ZgtANkS2pu1rUJKN0rbM6oFn6qls69N9HFzQmY73CPQMDWCiGGa1gHqTM7tGrHo2AH/Odd/Au8VeMMdY2mP8P+5emBBYp9Dz/zOikH5hWVgzd5qAPPi/H2OCoXskEMAwaBtFWZca0UXmbBTT+bm9+udFzuhvilpDVBzdkAGVWUOxaD9tlinNwL4DhZxL7+AkBeQ6udyXnJ/MpAkF6SiN+FoB1xNL8VTiOsPxI1I/3Fw16/7nHVOUtajdfLCP3gWXR3LopLdOZNuC7zriQqaqNUHlQu3E1QT0eTju6EkGWZEzRwbFDLdwY9vG+vTZIRuy3zG2v0Zarv4oqE8JCTMnyhgOcmTSOximZxLbQa46naoueUQgU3CrZX8aQvdzLVZXzpf2djv/fmET8X7395PcCTtEyGmpMHlZwUOYbzJBfJvVrRn+y6AkwQUUlGIroocte0yQhYC5ZM5xCUywQOgh6cbERBF9G/ztRVaPqO0FVB8BhAeomDdeGBGrV5HsOGVptgJ5Piwq2FIe7FrgD3/Nsg7YEuQ5p6reT1WDqbY6LoQ0WwDlC+rskDILRXeTMYJgU/5JCCAAvrELMEZTG+X1GBDO6UD5BoTcux1aeI1ScvAPszvk8awO5HegxbfmVKMiJq9ocS04BZO5Ux+AcO+GrreXLc+kPTyJbq8YN0n69NFhJqlGV+nJj3jzn9axJma6p5PtG4Xq2Sg6CilTJMNGOs7UIfrEZ+bm9cbfHuOb41+pYtXTMbx/caNuJ7hAxPaizzhWPGV/8c19mWxp+dzETkorPJ9XyXKaWhxKTMOdjFXX2arfWZppQank3dztw+3C1Nay0Dd1Gx7l/DR4pt3Vb7JMBvZ10wQSpfjIg4vmh41+33Z6wuirxbG83mT3YdrAD+pxg7fkBdmCCr5hb+x4ANDdNAET/7VDSGezSK2zRpNeL6AiBiiEj+i8H/AqvpMpOK78On00UXJY6XaoGVWwLIoPNj7o3SHqsxcPoi7sSiXHaDv++Rt+yUTjuPcwCQ==,iv:dmAD0ykflWl73UajC02B/bqmNksUuxnr1UkEz6ZDH6M=,tag:hHZ+7et2QLHd18zxj64mnw==,type:str]
        key: ENC[AES256_GCM,data:+5wT/BNOPyn9NKhO3sv/EG5pHOizMAVmdWyCr3cSEGwliFzataoxV22XhidllVsjDnYXGI4+GgjeSzqDVflqypLoMr5ABFhZduRSBZN2y58HS52wsWZs/wt5BtYDAraoMrdPG+5UtxtimkT9RfpGsXLd/JSP2HfDxQs/AKgoQMHZZp/wA2/nowKQWT6FB6+uS7za5cVlBL//Ch7cKQdJfqrWeogxh04rb6nUM0cj2UmOMLSPZHFgISGaCg+ZjRTEQ2ucwZCIkb7jDyS9/cSO62bsWN0XEW7RR8W4e8rtrFCjvKGpZcHkGDMe55QAaNyFzrfb9JgjxFNNpVkD1lyN4mtV7+XltOwQGe0NVa/NXz8uakvlDz7aehfyYfbvbKk0WHeslrdlXk965wNuYtLzbA==,iv:nMSTt7zTRVAJLlEc0qzOwnuH5Bvvk0inFiaC9Za3Bcw=,tag:3BcqodGergdJ3/WcKv4/0w==,type:str]
    # The base64 encoded aggregator certificate authority used by Kubernetes for front-proxy certificate generation.
    aggregatorCA:
        crt: ENC[AES256_GCM,data:G3nf43jJtkDQfL6Bw5E2CtMTe2lx5nqoQ9eJLXIq99zXqC0aUPaNcp2honmviRCPEJ3idtfQrRBSKHcn3XKFOPNPM5eHY+MVLFdsnxQnz2O0elvckYrdXdFIHTaXMnFRIV1zfTnFzmhZjI6298a8B1ZoCJi4JoPPXrXRiogXUm3PmCcWyEUalJHeUyaSJ575gpmS5QerL3n+v8VBZrANQvT4jirwao1R5R/aCraYOBASip1BpPhtxHl/X+cIsYU7n54grWunbJrI05ckeIfYxneROJJXKdf1x4kmtJxxrEU9EWjj7PPGYDZt6YHlTs8heurvZpuUHMEAr+eS0vA7hcr0tJPKmbv8ugUn1cqE8BvRq9kr9MmUgNihPnbyGx/eCksB2S5jHRYFZZTsDTn4cf/6eOuLGigFQwUPsJsz76C/X0io3zCiIla0ElFPFUJqeCjuaeTHHqbrKKNemR4+1cTDwkucQPEZkPHlOuJiqYbbFjJeBAoPMvcCPu7xHzoznTGa2Yvq9NEd36NbyT7w2ooIS4XD+ya/LbIPvXPjC/dr4uvOC+zMHvTwgHXeS3wWCQ56AUn7QgKYbHwDsi6gSMIC2RFsEjD85yPyUiZv2havusctiOI4zC3TnIIvPDcFHu5/w1iPZ3iQw4BwFTyBV1SDBSVF16hpCLPUCNTEWkLZJthoL1ScCeRQV0oX7Aab/tUUxeNJ+CkmLFT48F9adp98yrBgiWrr2YJSYrArMWf2W0FgcJ8QEBLvZQuN8m6eW0q1PJ6ZYna4Lm7ff5sCC9EmIKSYEqCAfnJwOUluYY+Ml/O5mShrAWMtDcdsBEnEeMSWYVnmbQvOyb4O9rbxlneYDMh33u2NJoNsaajsQgDn4aVVcTjYyHEhokoCu8DXOeKh0ujx685mS5Ibin35mWTYZdVfAQGdB3gDRpEEwKSn4+qNqzLKBcSf5O97daz+,iv:mM3wdYcrJ+HSreIOUwGa5ovPJ2S4KUOZkNbr05srNYY=,tag:9mfNSg3Jo3NYNA3IO6mmVw==,type:str]
        key: ENC[AES256_GCM,data:BCr0z87vk2h6ApycjHaapBAza55gX70THXEVShFYLFP8oCPGO0syh998FIS4BpjD3Eu9Isly4KskXqJwLjgff9soyECnGc5PVD8bgQr7hPAs4Wt/Q0nf8Jgbb+4prGCxBgHAiEuE/fDWLiOO8cIILzYZ0iFdCiTr0RWHOjQqMoJPjdwJbu/KKN1xeuMwtJvalAIdZxVOdCTCI7b/NHgjzrROk/nN7wEcVNsudGiPLX4XtIgYy+bica7/fzD+1Mr7Yku2Ye1VUmMr1LnGDUjda6im3tNq9sI9QPlBKW8Q7NYKDjTFrsolw9lnanJIEv4ueozYMpXv3C1Ywe66fFVLNFnxWa0WoH78VhuC/WYMefSaaKbXqIHvfJsb8YpXW3Q1RlLWtrcWD9jwRrGghsDoJQ==,iv:dbLNIItvCyhEfTaAsY6Z9DddXm7F+SALOGHp8o6laPE=,tag:89HCwEmGUslIUFiwYPeZLg==,type:str]
    # The base64 encoded private key for service account token generation.
    serviceAccount:
        key: ENC[AES256_GCM,data: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,iv:pUcEFtAjllJCHn+uOvmcTK5IYmupfXUGFDVw0sUgbrk=,tag:JcKwyb+CoJVqMUzUNVcsYQ==,type:str]
    # API server specific configuration options.
    apiServer:
        # The container image used in the API server manifest.
        image: registry.k8s.io/kube-apiserver:v1.34.1
        # Extra certificate subject alternative names for the API server's certificate.
        certSANs:
            - api.raspbernetes.com
            - talos.api.raspbernetes.com
            - 192.168.50.200
        extraArgs:
            oidc-client-id: dex-k8s-authenticator
            oidc-issuer-url: https://dex.raspbernetes.com
            oidc-username-claim: email
            oidc-groups-claim: groups
        disablePodSecurityPolicy: true
        admissionControl:
            - name: PodSecurity
              configuration:
                apiVersion: pod-security.admission.config.k8s.io/v1alpha1
                defaults:
                    audit: restricted
                    audit-version: latest
                    enforce: baseline
                    enforce-version: latest
                    warn: restricted
                    warn-version: latest
                exemptions:
                    namespaces:
                        - kube-system
                        - gateway-system
                    runtimeClasses: []
                    usernames: []
                kind: PodSecurityConfiguration
        auditPolicy:
            apiVersion: audit.k8s.io/v1
            kind: Policy
            rules:
                - level: Metadata
    controllerManager:
        extraArgs:
            bind-address: 0.0.0.0
        image: registry.k8s.io/kube-controller-manager:v1.34.1
    proxy:
        image: registry.k8s.io/kube-proxy:v1.34.1
        disabled: true
    scheduler:
        image: registry.k8s.io/kube-scheduler:v1.34.1
    discovery:
        enabled: true
        registries:
            kubernetes:
                disabled: true
            service: {}
    etcd:
        ca:
            crt: ENC[AES256_GCM,data:KK0TKqU5YE0GdQgHxkoApjOegd6qxRo3QwqOWIU+LBTAcxKfbE3uzl87O7p6Hu5caERvXosMLXEihLAen++Fsu7ALFkbRTArWPa+sx/wpFbQQPlMY9f2nQgnDuw3mRaJ3eSsXH8X0bh769jE88nLTqbEq1GJuq6N3RHIWZ5Icd4KfvNu+Ndpw5IfB2y/qA7jf7TbSgOw0m1CkgCH98D9Rcoc/P+K1qYqeQKd9XSEN+D3kBIA1IdKe3TaYpFyEocEQc8W2a8K0nvn6BGf4/KnlayDM4MeYQDVTXsBiwp6JRJt1aauMP1692uGiTRQDsAgU+IlUV02Bv4rqvT2C+5jgncch0aRcZmm2t+GoI1bkxjumo1TslKX2Ukxi7Vs0eSfCQtcPh7D6wQabxEgWe9krrABEfuNp5OH9JZN51nYeKzrLSYsBl0iMA7/XL9n2OdDDTMxHgwEaUVXpz/b+HzGoz4u46HYcVOAIlbPzunZEjua7mMDKbf9ktZjmcqm8FRkdErTN1Tp5x67I4YPCSp8NUICA04uCC54KCBTWSXp43h+PG24/u/Sf0nyH71WyhWMGmLquMmrwh06Pi8MR0/XEfqGLh6jt3YVYoteqN+4kW+gI7aykYFFrgssLyZlvrO+u+14q8OeAttwkIXYWzZiP/2Zoy9qijXfhla6CdHDZ9p2p8seQxgW5l0UhNPJz/AgJ8CJjA/Qq0tEjF+W6gJouxyiOvR/8xx5M7G8x51BoNPu5qRx8mVy9AWpIOgCzLzLITy5EYn5meDRl/IgvJpGwSgqRfHZF80BL5MMLPplz70hI01t/tcPOt9fYGLCDuiZkRUid7iAlvc3fmeOW0Q+tq/tKKSre5KojTAPRa3Wn4BnJjO7/BjEqN55ZOCrYd9ecmF57S4+K5wPtDXLDU31sv/j231BvtwEOsOlVIs3nEEc+JOUrTpEwl+bfM0gIL176xJko6U2iiW/tXfeXt6kt7Q2eQs5o8eVb02sRD4PRN0IeWEZQaOEMMSVVWp7adVl,iv:CtM7MRx0qHMzak4mrwlAFFM3G2p+PviWUPoy2En9Yd8=,tag:F4g+Jn4FBbpsobhQ89iL4g==,type:str]
            key: ENC[AES256_GCM,data:5iyHWSS8lg7HqCarJ6dZZfOZAEZyQ7a2aMqnRRdlVJabvDoSd6erPT4PGandD/+EpWc67v6M5+D08LHKDOfEcSOSgTp5U8Ix1E/KtfeWOA9rG/6OobnISec/WNFLi+fTA/yIz8FMZtvv1MaAsRvogvbnsMQ8gKQG4gkqhvnWhojHuxKLrTjvdXOZfSeo5tYOAjP5PeuOqXKX3lys0AWr9RYmJqdaLGk3+M4xzuAGzt+M/MpqjmVIlRBMLMlvXWZI8s5YaN8t68qP8yrli41nSiLWDn8KhmVzUuzGtI+OVMEt1SfAaCnR9pIsg7wnWOBpWkQr3EPhq7iqlhxmEuy97jKyPPSWW+x9/XKS+wRClBT7S4qVHKU9cCS0mnEopvvJCL5VhqLRZp+irVV7YVHhag==,iv:NWM3bNfGtDvsU9plkDoaNmR4JlxjjyNv3axG8f57WhE=,tag:9Jnmak+Wm25NjIFvfkgKTg==,type:str]
    extraManifests:
        - https://raw.githubusercontent.com/xUnholy/k8s-gitops/main/talos/integrations/cert-approver/cert-approver.yaml
        # renovate: datasource=github-releases depName=kubernetes-sigs/gateway-api
        - https://github.com/kubernetes-sigs/gateway-api/releases/download/v1.4.0/experimental-install.yaml
        # renovate: datasource=github-releases depName=prometheus-operator/prometheus-operator
        - https://github.com/prometheus-operator/prometheus-operator/releases/download/v0.86.0/stripped-down-crds.yaml
        # renovate: datasource=github-releases depName=k8snetworkplumbingwg/network-attachment-definition-client
        - https://github.com/k8snetworkplumbingwg/network-attachment-definition-client/raw/refs/tags/v1.7.7/artifacts/networks-crd.yaml
    inlineManifests: []
    allowSchedulingOnControlPlanes: true
sops:
    lastmodified: "2025-10-23T02:41:56Z"
    mac: ENC[AES256_GCM,data:NFRR8ZfeZfYocV4eiZxcQmysXpBMbQdYU/iDLx822ykcli0yhl8ctjTnwROpbj0kBZha0xoIbixmL0u2P6VjmTrUuk9KoH9B+bYLaMzN1nZvmwq0qxggIU0JMp6iT0E6Da0JV9OHrEWk9h7wz6QHNBIVNLcnfZBlj+g7+IWmTRs=,iv:J0wd6RhM80WOSVpWL6t5d7eNY7lG7TyfLysA9/XBAgc=,tag:cjNIM9QTZfNu5H7/qCoZ5g==,type:str]
    pgp:
        - created_at: "2023-03-01T22:28:05Z"
          enc: |
            -----BEGIN PGP MESSAGE-----

            hQIMAx42lmLHwoZwARAA2kUJZUqarf2zlT4oVqbthYOthCrSiJYVUbGKb0HesQNz
            fULs97UZkwPW1si0AEQTALHl4JKbLotbVyLo5yi97y9hXQ0rxP/mOkM0soeHy6uW
            HZK73WvjT2IDJbX5JsRP+X4HVSPHirY3W2M19iRZSkfSpzw9vXo7CV4J0058fdKO
            o3EcKV0v1W0lA6sn5LRvSu9sgPFStna/5j23lD8I2wMrd+Mm5ODWOsCZetPhPNQF
            oQLSLS/RzLOvvLlpfzoL8ReS15hEninxnqqK6mSaXUGCE3X4N8B0EkXaQqTkLzAy
            ry+pukH1CHUVcSmD9KhNSnLOlrRcRHAj4dys7jEb6KObM8IPa32P8mmXgqerb0ty
            x7dMtHtQPCDbin1S0Wk48tJfbvabOCaMx8MarSgphX9QVG3/XYuSBzGHNMTmxiVv
            uC92xgF9aawNZFtWtqVwuWg6F1BKir1td5Bfvzx/YmTzvxXfuZzi8yOnNRJzjvuP
            JePG39tncrTzS3WiO1Y2z/OGq56Ccvmgh6OOSmh+wb7dK+404ZG1pqNhs6UBa8Tr
            xiXGkug6XWIxHITt7/p5/rzPeOR+LIcy9w19t9G+ytZF6ynyfJmuKCwaG7HdGifr
            IO2oddu0E+rkLMDctK0W6uH+4vCJHgCrwTKDxgELXmEL96V/zIdYq9haeTukgrXS
            XgHZ1yoPJxsugH/Hodh0x6zFdB/vw8Wu22dRLvPb7AaChUu1g7We1dRMfeX/gTAI
            ntvgPe+W1YOxcX6fZufjboMrc0AXs7Sas7H484TpRDYpXLRs5HBf330jOYv60SQ=
            =ieVA
            -----END PGP MESSAGE-----
          fp: 0635B8D34037A9453003FB7B93CAA682FF4C9014
    encrypted_regex: ((?i)(pass|secret($|[^N])|ca|crt|key|token|^data$|^stringData$))
    version: 3.11.0
