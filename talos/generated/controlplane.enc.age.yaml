version: v1alpha1
debug: false
persist: true
# Provides machine specific configuration options.
machine:
  # Defines the role of the machine within the cluster.
  type: controlplane
  # The `token` is used by a machine to join the PKI of the cluster.
  token: ENC[AES256_GCM,data:AcYPDw3F55oqMloXJL968ayhFC6IAZ0=,iv:dwGIor+A50KvFYLbcBDqdRgQPsRRGNxPIUea3q8SRe0=,tag:wiIjISrO21rA6itwDvTW7A==,type:str]
  # The root certificate authority of the PKI.
  ca:
    crt: ENC[AES256_GCM,data:YfaFxre3G1nFfpbQFjjFYmnC7T0bkzUsqEXATqnE3xb4tZOMEX4A45HlFvleIta1gov92ZcJFqTMdprD1XEXk092wy6eZZ7wxRbRDsuyi0hNV9L8MslOX17/2VPRHrG57gv8QdyNM3b3FHs1MTHktHl1ZPaoyVUhvZLwkorkbrwQNXmE3vD00tG2g2BY3BpOujFJx/anRQWPHQBKW4aqfZ+QNn7zqxgSng90RiD71YLmWy4tTUP5HsyXZB9N7E9u++bFxknIuOqW4P09PDVlTVL5qvpueO4MWblL/S56H+0A49InE59dO8rnil4zfIFCGj5yJUMFoAhl3yBH1QDZbZitcEOQA2XNwpn7KY2n8o10sp2o5sEZlFe90i5Jpx713oSdQkGW/r1I48zZiUvktwKk5rYc4a0/WMOF0aFbfzxG7zKktm5jwmTDgmjkDTKFCvsDV5hYMZc07BY9Si650vGbMIX8O54r3Pqtu7CTw2PwJnyDf2N5Kc7Hkjm/TupKH72mkVy+/h9SgA9UVTv6DyY8Ym3rRpYPSJYDrJUGWRlrmRHugifa4vR9HEAW62HCLR5u8DhArcFiuK5ldFke+RbKze8k4Fq3zUke68KvJPAcvgqCYsfvVD6U7vigC3EMZbkDihgt6cYWAjsHjj6TRw85Z4KkxZV2mO3/2sT9Uikk5vQEmrQwtJFiozrkKUnSMv2e1yaOEKIWgebKZ2Fg2nQxqCmqiUh5yLOPxf9sxwoegxlc8GXY1RbW30DVrq7uXqwtNx3jgLJcpHS9Nm5EBQlcIyLULI5B6BdSgcDN7QSPPdb+a9CMPQ8SkW5Au1Nq5SE1/g+xEwYOEgaVvyaMLk5OiDyi/u2/qWaTKUvMU0TgvEhl,iv:PpRGg0ExoS51KywsR0jq3WXuRFd7KpIDEsJtQTFn6sk=,tag:Kl6vc5EqdiDGP+UqDSjspw==,type:str]
    key: ENC[AES256_GCM,data:xMm+6jVcSGKGaEW8miW0GmqqdQYX4X70NdMDIK/KQyuCcMejJhF42Gqfazc/iUSqAfJpkBvz145gdZ2dBawubrzcOv7weXt1toDUZXxWIpZos4T28I2VeGTyRuEmRio0SQ/ykr3Ns4VW0xw5t87d9QlIRKcSWNfejiqNhON/F5D+9LIaB81f9AWtXW1baIW1zHemQAWxjet7XUY5LDaykrmgRaWJ5IA/JThkhvxpomu7gHoQ,iv:E84kLHhjBhbUjQfXQOvkCSGJQAvpq37qkOlIjqw0M/U=,tag:G2Lx9O09oTGi587sprorJw==,type:str]
  # Extra certificate subject alternative names for the machine's certificate.
  certSANs:
    - api.raspbernetes.com
    - talos.api.raspbernetes.com
    - 192.168.50.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.34.1
    defaultRuntimeSeccompProfileEnabled: true
    disableManifestsDirectory: true
  network:
    interfaces:
      - deviceSelector:
          physical: ENC[AES256_GCM,data:kMJ7vA==,iv:sOlLloUb17xV1XWW9CdayNJXTLw+IBgw/5BHXp2s5ew=,tag:paSup5iHjN0wHTcMnZdgAA==,type:bool]
        dhcp: true
        mtu: 1450
        vip:
          ip: 192.168.50.200
  install:
    diskSelector:
      size: '>= 1TB'
      model: CT1000BX500SSD1
    image: factory.talos.dev/installer/c9078f9419961640c712a8bf2bb9174933dfcf1da383fd8ea2b7dc21493f8bac:v1.11.3
    wipe: true
  registries: {}
  features:
    rbac: true
    stableHostname: true
    apidCheckExtKeyUsage: ENC[AES256_GCM,data:TKdRcw==,iv:QW4pFSFlgO/93nOjy7CmouCdbKSIjXI+blTdKZgw/kA=,tag:HbQQL/B9y/lZgJR5fyLskQ==,type:bool]
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:reader
        - os:admin
      allowedKubernetesNamespaces:
        - kube-system
        - actions-runner-system
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  files:
    # REQUIRED: The following documentation explains why these are needed.
    # https://spegel.dev/docs/getting-started/#talos
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
        [plugins."io.containerd.cri.v1.runtime"]
          cdi_spec_dirs = ["/var/cdi/static", "/var/cdi/dynamic"]
          device_ownership_from_security_context = true
        [metrics]
          address = "0.0.0.0:11234"
cluster:
  # Globally unique identifier for this cluster (base64 encoded random 32 bytes).
  id: GsSf9LerhTOpktH7JMlySUhdB4tdxlX1b6ZDGM7a8ZE=
  # Shared secret of cluster (base64 encoded random 32 bytes).
  secret: ENC[AES256_GCM,data:gioMDX6TbWekhwLL0PNVE3Vd60kpih70RC3ZC9rgAHMI8Uc52Z58PNtxYqk=,iv:MPTfkj2k+HtoiSf/zhg4On7TqZ0WL21e+FW2Dpw5EGI=,tag:kECCSBjtTG7/hXIBWBmiQg==,type:str]
  # Provides control plane specific configuration options.
  controlPlane:
    endpoint: https://192.168.50.200:6443
  clusterName: cluster-00
  network:
    dnsDomain: cluster.local
    podSubnets:
      - 10.244.0.0/16
    serviceSubnets:
      - 10.96.0.0/12
    cni:
      name: custom
      urls:
        - https://raw.githubusercontent.com/xUnholy/k8s-gitops/main/talos/integrations/cilium/cilium.yaml
  # The [bootstrap token](https://kubernetes.io/docs/reference/access-authn-authz/bootstrap-tokens/) used to join the cluster.
  token: ENC[AES256_GCM,data:GhoJSw3ZFGOdqriXAILtokGnECL84xs=,iv:nwnHKOdV3SxSZUelBr6MA/REfbKzv8ntSm6W4bNCN34=,tag:FmWIdl+Ew3e/G6hMHzFEWg==,type:str]
  # A key used for the [encryption of secret data at rest](https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/).
  secretboxEncryptionSecret: ENC[AES256_GCM,data:Y62Z7PfzHE0ydUSzgy4PsFq43APY8/osv1c5nanG43IS2P8aJkFun0YScWc=,iv:KAEAfPwQ8lCiX5b5u/hf4y3TrKvk5xFd9Ft+4xoQXBY=,tag:yVOpT6nrNh4HRxzmJa+5TA==,type:str]
  # The base64 encoded root certificate authority used by Kubernetes.
  ca:
    crt: ENC[AES256_GCM,data:PkuaHsXRaZI1e1WjWP/ZeIUCqhmuyq7s9nO5aVWeboI/jJ0VfVNI5tSuNDkzocKqHT4pkrl3ZTyfHTCozEs7BIcp7vwV8mxC/JowVleAfrmeNpdRbk8TWVfnvatzuNSV6UIKcKmaqpxEWpfAjqIpYD5m8ngUtznsBJpeDGOtQq+A5XqnxtHaqx/PpiHTWBb4FtpWeEqzONGhRLHB7EXEziFT3AoZ2GxD/+KKCLqWhiOhlsNQRAEDqKv7zuDRkZF3STCLTbAr6G//bNBcWMqJZQEazp1pYfmX/nsPPrl/V+hvLhJ4Tnq5clD2EOsaJdFlgftz78KFqKLYOH4Og39QPGT/GPctNEB4aVx2uUHrhGVnHyOSSVtBT4wViRen2ejV7jFtXGikUenLnq5NOZvE3acpfeEk/4b/tO5rCzkeGAcJmwN7uNmzsxMi+5rR71dpIkCRoSmENu8f5GrMkGseCuEPCjw86rqeT+aIlyx65SuU/vDiSM5R/LXaKxxYsujWfuTutblVnQoiZLdm/GjdcPV7K1dnDOQGRUEbgjPPqc4pj9vIyo3f3ReNBzCNUrMQbFwV69mprZOkX++2wRc8LlTuI/FnOJ0rtCInva6M8I6fC9AJJnKHb6TeiIZj/ykB3w5G+kxxODigUsmMHBEfsB3FWFR7FU0vOUFH/qBt5nsJrC2RAH7MWChu4FMvWWAZRCW6ym+QMCTuGFL/rwESCDjhqKsP5P6NmNxIvzTkbsLlcrvTTvON9nfod/SfpZ3gtpOw7rEJRmIJjkWOdA+uP2CYscouMX3iPyiRits5CaDFkiySapJRtOnbI1HyOp5oxGiFsSj2WrbRYL3Kia75JkwMgsahuYQBj1BniWSNxM6sdXzrjVFBXcDaR/BdY26FXUqJ1MIub3KmCTUg5mKtMjGyqE4IUl9TcyUGG9kI0IRPSPlQedmxL4PeeSMUh1g/r0f2YygAfHvTYM1290vM6GyVhmm+0vFMtZESVwmLxaVs6RCusMhj42cc0MCye6z2dRyy02boaYJ5WP0Pg/vaZvTu/jwz4vgOETlQvg==,iv:SoCOhIeNBfntL/zb9KOm7jQoZs4MJPUQH9yFA7niRIo=,tag:z0Q27Y6yD6sHYUJET3NfNg==,type:str]
    key: ENC[AES256_GCM,data:cVTpU8amQCv/ga8cJL8XL8Y+pu0HzJCR+PVUie6zUXSpwqs9sDlPISQIXqyuijl7D0MVDNx3TvFmwcNFNJbRir+HB31DxuwvKc1WoaJu3yhh3RT8qxbboR6msjzeyUQm9jYeGu4Y8xC070fSuIznpOUwJL2jfTgaC2T8SDSKWIa5HIo2PoEoaPVQzeLw/rEVTYY6Avb1OPFTw3EGvNnGJpuRDQIoMKE/gIwuF2T+XJHQObBAbf7poxQ21gHsIyEZ0UXO3umfSb8wA+hhY8Sh++5cUhNdLGDWonMJN5oeMeompTOm2d8IxgCz7U0dURfcrurwxMsUC5kzLwMlaxoG36k03GxkuEclbRaA8iqFHTM2ZvRDJ879WZgcUB3lcDQ6ny1sOGOMFXR/eP1e5DqrUA==,iv:PUdTMMIFvB94TCZYJVh3YP/uo7gCjOKtaT3CyatWVpk=,tag:UQJ6MaKFOi0bHKc7pCmhQg==,type:str]
  # The base64 encoded aggregator certificate authority used by Kubernetes for front-proxy certificate generation.
  aggregatorCA:
    crt: ENC[AES256_GCM,data:J7ZWjBdLnjbjpRP7x3XYy4Q/rtHfWMGBEfgrDGsm2RkdOQmMvIPg/UMOMyN0A16toXXwINYwPCnWBxvelxmOdvLdFL5q1aooLCRy2bVNddT/Uv/airB2Ymz13CJsZH8TKfKQLiD/ZQ+3aEuq6ht/dk1bldJvCFuCA1ZsYtRx6BOjzrejnaCi31GlwKUjC9+/Afe5mWUFt3Z56uVi96XTaTn6/iG/niqBtAbMCIw3eAc7DOZb1x9FBgxrLdsaoLhsrkN9CYSG3bM5Fg9nYmBdKHuuN+wL+RCcHDebdDDV0xyzBspe2Apju7wRt4P3ZBnZJf0v1fjjtk9eHvibCWFaEH2TnsOciOEXFbRhSS5XBZ5ErZZK+ayZcRJCksnhdyGkG6eqP1fr6rCDMZOzQ5UV+xcXafwGMAl5QymhmZhhEWawC+JufdDvkxayMIfk2wYFWCptQzOh455bkQDHz8r8OGDzGUrr4nGhaxW4U5pDinjCDTbMqfZiDSf+8g0zWUm1IiXW9WBZIvvOi77mvwDrIXun5Dg7ugfEJ94/fIFy17IZuHC24/Z0Vabi4edin2sczMllID3pzV21VhCc1cnL02r+rdGTWfUZN8hy+jwQnVOBL8AFa9W1MH0QPO0WErJy3J833V0gXZvSHGY+iMWBkNCz+EsmxzNNUGoo5+7nYjraizifgQqo4e8fq5TSetdO3qtfV9uMdmhmNu8710jciFI5boHkqWHltXo6JY98gCxHn/M0qLetwraSItFkmLT1GDIHrNAkfwRsKw8f2EBPQXv/n9hPYJ8YmuqQhkFhvKMQi+6iugXLQ51ot8DiNZyIFD8ApK0CCVpryf9CjVzzcmwXub7a6a3oCteEJlai46KSvkV8zSqQK6amQX5Q1NPzqNRfvIvTlaVaaMql06HL6xAUoexT+kW2pabrC86sjuJP6dT3HYBWUrN/CWgYVDrI,iv:t5zroF8/22PQBBuJXHJpevEl61WEFheafDpfNnldE1o=,tag:ZFOLatEIR6spY4ZoSBhLow==,type:str]
    key: ENC[AES256_GCM,data:gmlvoeI05rc7ahSF4hVnMzSgBzanQ7Mn+7EA5onTdv/4kAjRL4FdnzKiGpOZW/OTEKf7f1KJU/AyuVYIcEU7uqbTW43UZawnXV/2KmTko1ek1ZkTF6FDPakt5pz6PFS4N21fnsZGHg/p8LFvtFE29dXtSsS4fp14utTSDwo3BulZR5Od7fetL4q08PXKK0vPTlVNvK5ipdQ5Ttb9++DrCrosz9U1vfeEtMX4H1nJsVySFOZaAkoXl3MBYAli9GBrb4AlVSf4WnIq8brE9OAFh3QndFEm7rpCNXeV7xeVqxl1JPMCLbp6SoqivGT2CgsnKi1q6nK2GRhc6c2iIS15/fdaPAhXZy0rl1Zk1sFYBkIVLCbHBbPh9w+KEe8AcqWaMh+kMiGuD4s2REmTIj7mzg==,iv:nkHJhg9zimlZ6AZEM9lPK7ZZUP5nP5w2jQt/3G1bWy4=,tag:xt24QqbyzbuULmsf45Gxww==,type:str]
  # The base64 encoded private key for service account token generation.
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:92y3xM+xZSKZlyNKlqDAiFatDgBn7jj7FdSAzJZUG68=,tag:ecKYFqGyxpp/uHrOD1CIQQ==,type:str]
  # API server specific configuration options.
  apiServer:
    # The container image used in the API server manifest.
    image: registry.k8s.io/kube-apiserver:v1.34.1
    # Extra certificate subject alternative names for the API server's certificate.
    certSANs:
      - api.raspbernetes.com
      - talos.api.raspbernetes.com
      - 192.168.50.200
    extraArgs:
      oidc-client-id: dex-k8s-authenticator
      oidc-issuer-url: https://dex.raspbernetes.com
      oidc-username-claim: email
      oidc-groups-claim: groups
    disablePodSecurityPolicy: true
    admissionControl:
      - name: PodSecurity
        configuration:
          apiVersion: pod-security.admission.config.k8s.io/v1alpha1
          defaults:
            audit: restricted
            audit-version: latest
            enforce: baseline
            enforce-version: latest
            warn: restricted
            warn-version: latest
          exemptions:
            namespaces:
              - kube-system
              - gateway-system
            runtimeClasses: []
            usernames: []
          kind: PodSecurityConfiguration
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    extraArgs:
      bind-address: 0.0.0.0
    image: registry.k8s.io/kube-controller-manager:v1.34.1
  proxy:
    image: registry.k8s.io/kube-proxy:v1.34.1
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.34.1
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: true
      service: {}
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:lOszhKpxvJll11rvefcf6Q0EtXvxNMjN+RC/ULAsIxAzgUX9YwHv+X3a53+q6F+SCPBOtlN7QxKwtoJliV4I2zCd0189uYEpfmp1hysqSnIWorIDRj/S1qFQ0bNFHf6ARWVPrjk1G0iXrMrk6+odmBB6Q0IjijBT6yb25BufrMtfyUAPK+54z92gogJGajz+KS5B76pH/MAG5qoKFpcoUgZpB574VXGUwMReIahXDQ9rdAdAg6pVBCDd6TGbdhXy16XKQS7wQCOuy47BBIlXHgTq08dk5slG0mzR/7j3g9+D4hJGCc8EQOTIeJSalhbkzZN/3niKCjE43X4gjx4cp+4ymB0OgrVpplf/EO0a2nSJIXUXXs1gmGP8b8Ah4UivTvkBwb59Gipy91N5UCsKmSyjzdWctOeQpJlbtpqps04vpIrreK9q0BcLEvdr/11uD3KMUDuHVf8QBoPchTtzIIvLqTR9L8L4Ml2siZFb5v/SaDZIxLVJoFH6bjzoqoYOH+RZk6YmnW+rlJNfRlUijx7+CsbTZ/JzmmEeCLhHp2pDztH6IUrc4RvLvO7rKJxKjnRfLIZLOukMSeGa23iKNCrGXgeW/ze1nnL1DLg/OD0yXJrofiFK+U5Fs0j1HWiOQsMrpuSIFI7GtYF11w4NXotkpec354jfX6rXCnH+mvrvtHQ6wBm+o91FJ7IOT/olS9eIGcFu4rmRGGbNIzvM+6L8UFIItaueTLAztj4bgdUwVg7H6he1DUsuZuzzI5Qc52T7YP0H8NxvkUo5DMzAq75wFC5lsL3nbt8/JuU77VGaXRcHZBB82RqY/U1Ox8rHKj9Ih5uJ8RdMqN70ioX8lNbUqBgymyM2dBaviHaxtZIrCSi8C3fXYy8vJ6BiXMHLJEHw1w0Tdr/epwu9AN8JBwUb4LBSI8OPyHGDCoDkx1Oe4TZzLoReyH+VitHVNIwng9ZVLRDtFf1GG4gLZ/Hpcnxtq6FLC4TssjFoE9VvxY8ohfZliITNGousBzVYqD2P,iv:gC28Rx4/OrV9l1tz3zjLprLwoAVkbJUDbseUxX76Sz0=,tag:wW/odIcxC5uiVa38J2lSqA==,type:str]
      key: ENC[AES256_GCM,data:I3Voltl4gGgOYHETM326kXGoE5R5ik/opWz4zIlnd0hV/zeZMz05Zlg1W0YwVT/VwgdyadQtmudEmC/WQrygglmVy5l8Gt+iXASD6s7SrNL5jnCp6ffA4Y45rrdh8VoZF3HGwZxZvziSjtuFpJ1JtDUNf38rlCR6EQT6gLPlGj1EtjsznzBx+CxfmTbrEJ5hkq/cNV0mzQh87PEFF/3tuExHTkKR+Gwld6ui3nV89Y/gGcguLAcgQclnxs3ju51ibB2i27AnNKMzBQeXw/afTW0VnjwQDOv7nTlDnLuV5CrqNwhVYEPLxOULGkGj8Nhebv83DEzQiVHEsH37tib8oxXUVgo4PGUjnigwweAzxzlg2lPuY3/5nm1ahOzLYUmIn4Uvbc1Ar0u7u2JsQD09rQ==,iv:ANb+xrAJIW+IbZZGj5EMHKNRd1dju9LFnOTScbNRF0U=,tag:NG0GXmwccBYajzb/diGRkg==,type:str]
  extraManifests:
    - https://raw.githubusercontent.com/xUnholy/k8s-gitops/main/talos/integrations/cert-approver/cert-approver.yaml
    # renovate: datasource=github-releases depName=kubernetes-sigs/gateway-api
    - https://github.com/kubernetes-sigs/gateway-api/releases/download/v1.4.1/experimental-install.yaml
    # renovate: datasource=github-releases depName=prometheus-operator/prometheus-operator
    - https://github.com/prometheus-operator/prometheus-operator/releases/download/v0.86.0/stripped-down-crds.yaml
    # renovate: datasource=github-releases depName=k8snetworkplumbingwg/network-attachment-definition-client
    - https://github.com/k8snetworkplumbingwg/network-attachment-definition-client/raw/refs/tags/v1.7.7/artifacts/networks-crd.yaml
  inlineManifests: []
  allowSchedulingOnControlPlanes: true
sops:
  age:
    - recipient: age19gj66fq5v2veu940ftyj4pkw0w5tgxgddlyqnd00pnjzyndevurqx70g4t
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBaeGVIdWNuVnd5cWVtVW4r
        VVd5eW9wRXZKZFdLVFFiNmU1dDdlZUhmS3dBCnZPbDZEZVRpeThDZUxkZHQvbGdx
        RUROWFF4L2kybnpwRnRUcS9Ob3doanMKLS0tIHRNOVo1enpCcFdLQllBMkVkWnJU
        WEFJaERRaEoxYWVSbWVrbmE5bVpiK0EK2XthJzuxLo1dva/IPuz0IwvVQ+wLdV/X
        lH+WpFVZ9oWCN4u2sr8IT1a+1gdZSQh3leZ3xtBnmLpsnoh2Bclg5w==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-12-22T01:34:33Z"
  mac: ENC[AES256_GCM,data:M0JPT1f4wizwpuEOoxvZKlGvyK2rKCW4evtNEgz39QUIdQ+8qLeMmTH2j2Tg/Qxs9z5nKV9lxNCA/uDoP++c1A9iRdj/Av8HFoeOIJMAr4G2mj8E5bYDUUX41sfdG9owdTPK/xWyjelP18H21rAPE8kdbcIiQ+CdHw1gC5qkklU=,iv:ATlAJfhT7wJxv8YwSuGy49q69wqbhsglAOSxz/TeMYs=,tag:I3691/yPBBtZh9n2Xg7Gnw==,type:str]
  encrypted_regex: ((?i)(pass|secret($|[^N])|ca|crt|key|token|^data$|^stringData$))
  mac_only_encrypted: true
  version: 3.11.0
