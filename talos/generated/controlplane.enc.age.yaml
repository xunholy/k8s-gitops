version: v1alpha1
debug: false
persist: true
# Provides machine specific configuration options.
machine:
  # Defines the role of the machine within the cluster.
  type: controlplane
  # The `token` is used by a machine to join the PKI of the cluster.
  token: ENC[AES256_GCM,data:AgTkd7ZquwABi/qT6UlZEZKyyBezKVA=,iv:2xKpwrmvqhZMkx4gMIOHol+E1WXYJTrlV6vI8LqRiXg=,tag:wxIx3eDAQpydVch+pXXhFg==,type:str]
  # The root certificate authority of the PKI.
  ca:
    crt: ENC[AES256_GCM,data:l69JriSqVGHsVDQ6H4xhG7MEvjvLIVMp9q/V1fF8mG3Up/wOQbLvjf/Zz5iwEtKasSeFg9kpuCbPB0t1ngTCHTC0AD+Y3mB5yb4H8a/fTWBzVKhBkNtG+brbfZ5uIfddLz7kBNa03oDtaipJTyH3CX73JuAFhJCp3ZhRtBGQ9QOyb1PBas+XvO9m1a5Nlem8CMfQuqwdn9dCr2Bq4YEAtgzoamU2dAypSKfSPLEryn15yiKw7KZlpqfPykM07k0zjyBORtY8A1NiLWKi4mKlAeC3GqYEirZ8xFWFbJJDA0vj57SriGfd7wklb1mWniaFn7Gelhu+jxVDRgT9zcQC3PPvozZeW0rcHJH1DgPD5ggpYwm5py8JWbgjrzzQafLUHftovDvSw+tZlQMESXweQPAjUZEC4DY+yixkgeSQ0H8p7laT51Cg8mYDLNCOiWyCOW3hFIxuqju8ywXjOapGa0XAnEVwtA/aPE7Ro3kzGbWw4c14pFfevhd+UUSPPAN/sDuGUHI7qP9X4dLpwgSsJnSXB25UMeC4zrCu62UlSwwvmH06gYW+pa01qdoAL4Ib1VfUHha1T+lFeUiPrzgbC0InGH+yRiY/jBj1it891ukeRtle3sZGoPncB7RKQAIbbEKzCOUzW72wphfi6jV4smg74BTLWYUIcFetpxDWeE9qEXbHq75L4sXvlykiLIU36rmGTMZ+t47UPWOXYmFNTQubGitu/hbf2DpcwHog2u8PYFcKUyi9JxX5kMEdUPfxoQ5wufpvCXTQS+WX1JuldbYdPavxCaDj652okehhtWMcKJIlQk3uKeQ+7XZJa6Szy9qFTP5DqmLRK4Fj9biQ7FAKVx20f5ueqYYE5DWmUpxnQe1q,iv:qYawvc7AEiAHyqThoMOPQRrs7LqFgqiyYMnZs3oU44w=,tag:qZAMNKNj928VwJP7XLDwyA==,type:str]
    key: ENC[AES256_GCM,data:03vZpWGhjv/CcOhR3XjVi3C6Xyrzwt6ythNr5FCnor2xN9KvXk6g2n+FEhsriWDqYgNruNHRYkCHZXvQqvsdiN0VmY9ZwPZC4HCQJCotA30aJTzlEGmPFGcr0fk0Tv9KhuakQdzrct/Soc4Jyc/ZNfEoXcdnD3cgYoDbYyEKCzZI2lD8a5QrRe51RCpY0GpCSooFvN60UhQ1tg+Qs6wV9QPtr8l9TwqW5kvmOJaolX8/hmdg,iv:jiXrxXdGqGe852fnUjm1acJspGbIlWja1LNfJSpgRoU=,tag:dDFYJeU1bFKlF+0UkKl77Q==,type:str]
  # Extra certificate subject alternative names for the machine's certificate.
  certSANs:
    - api.raspbernetes.com
    - talos.api.raspbernetes.com
    - 192.168.50.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.34.1
    defaultRuntimeSeccompProfileEnabled: true
    disableManifestsDirectory: true
  network:
    interfaces:
      - deviceSelector:
          physical: ENC[AES256_GCM,data:BA3FYw==,iv:uJjPK5xYaiylK3T3ge4bzfwgB4xjP9Osk2xcZgUCkaQ=,tag:lwNCuGf7kes7X6Yj+FslVg==,type:bool]
        dhcp: true
        mtu: 1450
        vip:
          ip: 192.168.50.200
  install:
    diskSelector:
      size: '>= 1TB'
      model: CT1000BX500SSD1
    image: factory.talos.dev/installer/c9078f9419961640c712a8bf2bb9174933dfcf1da383fd8ea2b7dc21493f8bac:v1.11.3
    wipe: true
  registries: {}
  features:
    rbac: true
    stableHostname: true
    apidCheckExtKeyUsage: ENC[AES256_GCM,data:Z0aHKQ==,iv:5xFYZuPRjBH/cjn8920rh08VC3xQkc2Hufz3jdUfOeM=,tag:2MtiKZ08eKgOg3VZ4XChfg==,type:bool]
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:reader
        - os:admin
      allowedKubernetesNamespaces:
        - kube-system
        - actions-runner-system
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  files:
    # REQUIRED: The following documentation explains why these are needed.
    # https://spegel.dev/docs/getting-started/#talos
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
        [plugins."io.containerd.cri.v1.runtime"]
          cdi_spec_dirs = ["/var/cdi/static", "/var/cdi/dynamic"]
          device_ownership_from_security_context = true
        [metrics]
          address = "0.0.0.0:11234"
cluster:
  # Globally unique identifier for this cluster (base64 encoded random 32 bytes).
  id: GsSf9LerhTOpktH7JMlySUhdB4tdxlX1b6ZDGM7a8ZE=
  # Shared secret of cluster (base64 encoded random 32 bytes).
  secret: ENC[AES256_GCM,data:TszxZlBYUw5Nk+i1+bwwXJ3OhHFIe3m1wyOIsruEeCBtvd3yCjjvY1gOQLM=,iv:TMC/xazSf4xRaSJtBeSMGLaBvoYvCpATvaD0kNxPsoI=,tag:Q2TW+f57bn3VPeRGKXzX7w==,type:str]
  # Provides control plane specific configuration options.
  controlPlane:
    endpoint: https://192.168.50.200:6443
  clusterName: cluster-00
  network:
    dnsDomain: cluster.local
    podSubnets:
      - 10.244.0.0/16
    serviceSubnets:
      - 10.96.0.0/12
    cni:
      name: custom
      urls:
        - https://raw.githubusercontent.com/xUnholy/k8s-gitops/main/talos/integrations/cilium/cilium.yaml
  # The [bootstrap token](https://kubernetes.io/docs/reference/access-authn-authz/bootstrap-tokens/) used to join the cluster.
  token: ENC[AES256_GCM,data:3q2+1iSVLDwnWBU3qJvyAgduNnD/E88=,iv:knN3ccK6F/ErowrdP1gf8BZHXzi9f2SDgZ9R0uehRlE=,tag:vemM0ktRk2bAxvNSWus2AA==,type:str]
  # A key used for the [encryption of secret data at rest](https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/).
  secretboxEncryptionSecret: ENC[AES256_GCM,data:dm6UG/ssv/IyYTy8AIBMkVB96FH4Q+f0DzLigMkTy/LPKyzCHYsMJnteNbo=,iv:ImE2vvg3+u/MYmBfQmQrzKF/X88nAVgKPrJVMquwYho=,tag:Mf8ws+LiZRCKrrIdpNiDqQ==,type:str]
  # The base64 encoded root certificate authority used by Kubernetes.
  ca:
    crt: ENC[AES256_GCM,data:RqI5L2E7hQIh67dcqYRzsSOQG+wntZ2mpjox/+VvFvEVjg+Ex5Cq66Gznr2wuKReAk3CyA+WUUNUm7UeBxAWd4UQ+qXEQyWiNHZqbVDDz8nFgOYnUcp9z5vThlc2Be/OC59xN5LkzgsBrGo22XOZsH0Q5T/DsHaxJ8769caNsunGHlG2FbKwD9EG45vvv3ssgwJsJYsmItd180zj3g1yrucMktXHZ/yWAiqb6jjaENxgN9eepJ967luuqsh0mAxZw0T5TxeA5AKHYMBguMPtHC27nPWCdPsiP1B0q5vA4zndUCMhF71cSksAXsg1KVQp9aBeBWzzHiiHxwE57Hdxp6SF3I18Gy18iOlclbQ04+Pt4vK8nee5a5/hNUeOWGJL+4Ia9ZP2pcuiaqGJf+4oPFL/xnazJcYAdrlAj0/F2Vb6grO/n5ldys+wWwCFbu31q6WFtIWkGjEz+v9ofEdB7ROx3SqAD7b2VnCkOSADXlGRF8andORjB4qJJPXMoDMBwXfBl3mlz3Fx0lLxuT6aA4tgN9xsu5GHmOK9ZaH4FanecIQsaA0rz4BZ+HEGwLXqltc/MS8Gc9NVMg56N6BOKLDh0ULDhqVD16bN6cNyDmYqBMjLNr9HQSizaDnTV6jRZlCogkYE3ZcDsp+MpdeEqblwwU4j+uEuzZwRQzO3J/jUEQAeV0AtkLtvXjS6RfzgpgTOVLRwu0uec/l0/wWb2Qc9Viw0RfsGLaWC2gKgEeh+W76EhjbLBe3gsibGdok1pj97GpTUCOPkTtcHMD/wV86KKwxKu2nyoKYwTuTJ1XQsYK9IB8wbhD7592Kc+klx4tBETYEBwUljeZUf6ijwf4rSCr+sN0A7U0pGLXMzUZ9idpR0NsqH9RoHzSnkcy/OXe54iVXxbOFPWFz1WA3cD7bgR8GJHFJJ5/aAWLNHd4s/voS95A8ZNgknESazfLH5TIGL0QJ/1wYHxIemuZnzM8GNOuhrDVDjm0MpJ3VeYFNKNuT81+PtIoVGQhUtjhBH48CmB1nsgAb1mxzpSobDPA64RvI+2iUVaYwHcA==,iv:OLHxBegOYM82MjcIA48kcNXxzNsiGEss0RlaIKQKtAk=,tag:X2z3HZzwZ/xgVe5IVeD3ag==,type:str]
    key: ENC[AES256_GCM,data:FoAfQPhAAPQLJLVv2PV7jiYsfr45sPQbJWMX+g4cdK7CUSmjkAun/8QucF1UoH2dpTTdJ5Y3TEtyRjw2maAetqLeF3m7xpqNZMyDTikp2lYbVwzY02mmVtDAHDqsLwNNypaYSl1ZZShHeadTqqIqggCwyxrstaSdjPadnIl0zit1HlUtlvAbHgnhxJ1m+vtUr6mzs6cNLW25qQbWVyaSF6sZPVN28NVWDGFhylxZCAWjZYvxUxU20bCdy02yvlFlGR3POyS+ZzD6uGUBczcyk9lzMAh7ZFa8I8D+HGqAsgqY4cw7qfNCu3p65L1bWURfTuxlBAJStUyE6eKg+AVfb/GTIy1qYe6r2mSFpe+Z/I3pOh7alwlVwZEERDoOKITVjcZHsVgoD88jJ6JA3CWgiQ==,iv:ifAGIka5kCXQvyqrZdnNAkrugDLwk/z059oy0rjgbTU=,tag:OFs0a8UOfYkiF4ZsiUo+jw==,type:str]
  # The base64 encoded aggregator certificate authority used by Kubernetes for front-proxy certificate generation.
  aggregatorCA:
    crt: ENC[AES256_GCM,data:7RnjL0erwaX0qs5ALPbhoqK5ibZpbbWOUVVx7hmOsfe2Bryi75fFIRd2Ppg/GdMjy2D+8LiSD3Sdqn3SlQuoImxgIUOlcfHmYm2xBKZw2+caEcUqwGJaOyCbOuRVghRqdibMgdFWzG+WjL1SeBS5psK6FAFfqKJgHw+8qgCP9QSMikqSBE5KKFU7D8lR0V0HY9cCbSD3mCWcbQEaN7aSxLvme4EwxFeu07EadoOEu0x0q32+Mrn1oFlmIUYaT4RiYIu9xJB6kxuokrd9bxN6Lbgcpwx7gRPqfhkhMjyhgy86KI67Fn/ZSJv93iEmEU+Die9R5Ch5eFVQxfsTXEYjdmwBt8U6XTPDfCqBsrctjEPxqO3bJXiJLkEdaXdq2lFSgjhICKpVOfOmuglNZOzeC+uh9eGw06s2VOobG7W1Ym/jU9PN9R9hfcpHQ/RlfVikAwmFUqFt8gDush0ki2KISlk+A9chQw+j61QLzfUMVZzBkX03dzpdavyVj/87KkxoaU+AAzR8OAeSNdphvPnkIlExpAjmTVu/Mfl4WW2Zg4QJXeMX7/ccP/uefRRhvcMC5ioqH/j3mj8KDY8FbfxQhd4JclecbPZL0/ax3bKIgZHDxZ1WLq4azwX1udd6JDzZ2E6tpqYVfUO7LsNk9GI9F5ONzoaYhaS8/l7VztnFXC4bs5ytB60NPRBDfE0OByVJ6GMThKAAySUDTGAnsYUaEGrDUzTHocoEbBg3XbFeK93lM+ih0rmFSuid7rId8M1vlDDYDdWkCDsl4iuJV4tefL0Gaa8oRTRX3Z0gp/gAf/EHk5xrxt0YTyTaHnnChqFJqz1b7yMi2PsiK1/qMSMt+98KxjkFdZ2RPZEHAwxHDZRNtghxcM/4w6NI9heDFgQzpacCMtDy0NsNSXhVi5uJd7fMGeaAPAwORWAHYgrBY37iEfRCf4Bpfd7uTvpCnGO1,iv:QI+T4BiBcmO/Y+jgUcdl9+dro9S89hmKhFxV2RF5jeA=,tag:oM8ZCL6kNjBIiBcshnQkQg==,type:str]
    key: ENC[AES256_GCM,data:5xIsLoSFJkWNp1yGHzjg72r5L82T3QpvO+GfRr1vFZa/Pg3Hj8Be/RXoeZ0ezvcYB98hnEjYSg49g+EhA10WQzSj88lS0ubV4DN+A5Mw4wAx7lnoi27A8hZMV3JGa/5ikA3L5WB3SAnUFpMmntG7Dcw0tCblCU2qxGML03mIjYbPBbqR6nCwE6E0fDRncwvCWmR3R4zUjMEq3lpt+EeZoA8auoCqv8GYXV/rTKTxFkD0JulnLTCMeX5YaOfFQSXFZfltdISp2SpRFxqtZmVhg25kzOk181+apg052ehwYRl0+QGY+Lmm2cyfUo7v/xIdFg/SyeI/5H8Zw7q46D8VBu9G2OexFWY0csrogKt76BfjCKy1TR/Fo/1DbLjk400xzU+Ovj3kpGPKQFfg4w4QRw==,iv:+C1sJqxVlMft+f6BbqTNFtaRRFpinB0p0GWCjjm8sj0=,tag:1QuEMiOlg6ScuOmXmC4DuA==,type:str]
  # The base64 encoded private key for service account token generation.
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:g1ObnkUnr66X1Cxh2GNXVPLfydGEdwS+nKyB85vZiKY=,tag:SxeE3iEDmELC+PJt41/BVA==,type:str]
  # API server specific configuration options.
  apiServer:
    # The container image used in the API server manifest.
    image: registry.k8s.io/kube-apiserver:v1.34.1
    # Extra certificate subject alternative names for the API server's certificate.
    certSANs:
      - api.raspbernetes.com
      - talos.api.raspbernetes.com
      - 192.168.50.200
    extraArgs:
      oidc-client-id: dex-k8s-authenticator
      oidc-issuer-url: https://dex.raspbernetes.com
      oidc-username-claim: email
      oidc-groups-claim: groups
      oidc-required-claim: email_verified=true
    disablePodSecurityPolicy: true
    admissionControl:
      - name: PodSecurity
        configuration:
          apiVersion: pod-security.admission.config.k8s.io/v1
          defaults:
            audit: restricted
            audit-version: latest
            enforce: baseline
            enforce-version: latest
            warn: restricted
            warn-version: latest
          exemptions:
            namespaces:
              - kube-system
              - gateway-system
            runtimeClasses: []
            usernames: []
          kind: PodSecurityConfiguration
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    extraArgs:
      bind-address: 0.0.0.0
    image: registry.k8s.io/kube-controller-manager:v1.34.1
  proxy:
    image: registry.k8s.io/kube-proxy:v1.34.1
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.34.1
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: true
      service: {}
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:ODW0pxNBLDbKeRzb6URCIFungLq3nGX//LDHg1UDlNzfaXAqwlB1IneM7oA0bkA/VY3qjNyfPANROp70xMABdgnmA5KC8c6bJLcf0jgXiyG702IMmm9Io/4T8sJewD5A/gmgXaLZUZ3mcIytY0vAjEABjEQj2PBBOhHH0HGnzjL1hyVJl5QyQtDsbfs7b6awSXxoQOz9GgijFrW0xkuu5yHyBE44e7Uq/PpCepCgwPfCFgTsDyoNXe9pOWiYlEs3P8YqAJBgIK+LZYCLsbdNNOcwgSbfPUozgG2qGbkxDCLbEJJiYfSkjqmzhjHMWE1ADKq20fy2+RoFRAOG5YaQaRdW+XFTBacJ+E5yYjnOUoNTlYay+PI7N761RBgveA2cWAGTpuvCRp85c3gUwkcJKEOEBhcSkviJYDOp6XeXeNR7kwx1c1LthMY7ZP7Ezp4gGi++vF+DmAV6gmBtlxfvyqvQonSsbI5nfOmEZ7veUjYY8AlGO7SR6p06CgyirwPLHSuM6SXJnlp/dLi/e2WUImLLE/IgoXkXTZQCcA+LG3pAPCn99eN1bWUraUV5Fm9xezB5cyM+XHFZF8FMq4Pdu4eBS5o1ZW4jsFyj+YH2SFFUO1W3H0iOG4U+iM/ekPBXVg3yhjVKZCZu/CZZ4+AnAX+dqrB3ohQNJ/N+Y2P15XyPVQQAFyvj2olB18gVIovs0On0k56pQgRbpUUyRltZfW8HYnxEin22xNRs4LX4eggDLphMoQZFQdWUiQyWLqjstRjJv2TI6mu+Y6dCcd7cWbU1ysmRvecJ4bSUhQArFkpHod1MfIof0doy+c7/jM4HW+Ho7oxH8R+AwHlXy8RxVvC+wjVTqDskD2S6pVTu3VM+A5wP8VVY7gH/pjRCw3iNejX08TY1ZzBbymGMUQrqGrD3fYBkzGMHes8W+4iYK2hI3mtSF4UTZHHO5ufhzJtrW1wlrf6jUEglUUTwNqwC+SAuprSJjR7r5ErCHhKOO7cSc3/IvRFi/MhdX/MGsEF0,iv:8E3smQUs/0EmNyX/3l4L5wQBK9M938Gk4/5QiuoQWS0=,tag:KeJItUyTs3AoRNAucQZXpA==,type:str]
      key: ENC[AES256_GCM,data:lNUxbmg8m76Lxc1Tqp/NDJpy09EPNvrebbVy7v8+3iMMHaJeNkbGiaHRpCq3MhJhdILecbsdIIQphuT19N+BQoK0EPwgepu4Vu0Wq8QI2KsBNpR/Kp3KV6SJEO/aBGaKpwoAGbNBsoVdn3UXcp4cEGBIu6aakryFcbgE/d3RwU7RUvmjFHvdCTmCyV9lk/4LF3i4S6Kj8hIc8XeN+rLEfqoRRs1cgIIO/iSMcVnuWqo+y/TCeoZs/IBOiT1ejGNjYf0x1aeDFktORixWACamDbP3VhEe7avWE6bKgI5qbJ2N/I2MBrLosqR/6Q+QmNSmTEwBa6t3bIzMiYUD1UW5UU8emcjxlLNwjNngVGgyWzf/Nx3Pyp66Zsj99QMxr18ksjR3vCQ1WqhjSFPO58WKOw==,iv:UkDPxfb46n7VRTpEuixgmyDyT1xdoGp9cENX9WrjPco=,tag:WfM2Qla08B51ve7zJGZ86A==,type:str]
  extraManifests:
    - https://raw.githubusercontent.com/xUnholy/k8s-gitops/main/talos/integrations/cert-approver/cert-approver.yaml
    # renovate: datasource=github-releases depName=kubernetes-sigs/gateway-api
    - https://github.com/kubernetes-sigs/gateway-api/releases/download/v1.4.1/experimental-install.yaml
    # renovate: datasource=github-releases depName=prometheus-operator/prometheus-operator
    - https://github.com/prometheus-operator/prometheus-operator/releases/download/v0.86.0/stripped-down-crds.yaml
    # renovate: datasource=github-releases depName=k8snetworkplumbingwg/network-attachment-definition-client
    - https://github.com/k8snetworkplumbingwg/network-attachment-definition-client/raw/refs/tags/v1.7.7/artifacts/networks-crd.yaml
  inlineManifests: []
  allowSchedulingOnControlPlanes: true
sops:
  age:
    - recipient: age19gj66fq5v2veu940ftyj4pkw0w5tgxgddlyqnd00pnjzyndevurqx70g4t
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBaZ3kyaTRMbndpNVZtdFpP
        THVHdGNzc0ZuWTl1dlRXSFU2NTVnZFE4M1JJCmRuQUlTZklBeWdHS2ZkTzMycTI0
        NlFaU0Q1a3doMEtjY2tXZUFBdnZWUFEKLS0tIG9GZWF0Y3ZaeHo3M0I2cW1KOENE
        ay93ZjYzbmcrc2hGQ3FhYmtVZFhxbEUKs2CypEg/+CPsTPWzgmVpiyx553juhbFb
        Dp8CZBYhJEERtvD6Bt+o7lNYj4t8E5jYWUnSGIryPlid5c+7wx144A==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2026-02-22T23:08:51Z"
  mac: ENC[AES256_GCM,data:8HCfoHtaXeHFeA+UnabWo0GEQpWltDcAAfQviDmoq7efc6fNK+9hCwwr6Vn6kY6qTs840KyitQW8PHXzqW+ec/83+XGWp0/M22ItTDAosCRaCDpSq2WNOArhVL4UvxHYtHU3IixT4+nE0aikxBUxYNGxOCFwdpwmQDcum6fs1FY=,iv:66TO0zSG1Ven6gVxlkAlQaVhXJXtml44b0XaS27CDOw=,tag:ZBcTe7NmwW3G7GNWvu0JKw==,type:str]
  encrypted_regex: ((?i)(pass|secret($|[^N])|ca|crt|key|token|^data$|^stringData$))
  mac_only_encrypted: true
  version: 3.11.0
