version: v1alpha1
debug: false
persist: true
# Provides machine specific configuration options.
machine:
  # Defines the role of the machine within the cluster.
  type: controlplane
  # The `token` is used by a machine to join the PKI of the cluster.
  token: ENC[AES256_GCM,data:NhsGZQ1f4PUz1sU8S+1/QnyhHz1/PfI=,iv:2YNMnOPzPBKG3X1AqA4XzquZrfFVQZmg9o/lumE2DxY=,tag:L5CAduMzoMbE2A3UE5dUbg==,type:str]
  # The root certificate authority of the PKI.
  ca:
    crt: ENC[AES256_GCM,data:ofSGkFJS4WIW+FYC6lxJgRIp/C2g4ulQ26dDbY59wP0WgQewVpdpoWVKChJCHX6BhcQtv/OBFdjatRHyirNmyxxMgDpXnt1uziqwz13bLMcC4D1fdzbRDDlpr7qA1ACaNNdiT2WU8QTzV18v8Srs4gJT13rYO3U3Hvkh/jyDX9NBv2I5j65KmTp2Y+QSjs+UnaYw2QH+oG4U3+QjsRT2MeH9paGkyGtBQncoHo4Iqm9nxHC3Qk/8q3YSqEcPgM833VrtTyhmoy/Tkf3P/PMzCJ8FcqYkJQis6hTOlhgbYaaaToJKOcH7XoufiiF4EKX28Rv9B2Ig/81AsrNZ8qqo0xlf+XrtC3VD3Gl4oaeuwzfzF00LAve1VAFRtgs44E+rGw5ijQiifWJ2DSQvhz046QIgc5hmxGxDZ++qSByrsDyM2scIxIwWV1Neoib99ScqFzaIRshkOTjFcy1Y3Q6OWTlMsAmmrX43FKIdhWUN7Ibp8foEUOnPOUCdL04giuN7onyIQ4b8AVUocG7ir+bjAAE0Sxx2h7/wenf78kvxnLGcEBAIeRWwfglA4NxVjyiiHxCs2sL1o9knzuvA+VdrfU9ENecSjDwyzE1Fhddv+R7zrBbGymQWaAKfnPuGtMPBG413EkwRJIMqJ6kyRJl1dPQPFNfYx6+JDyMhzm3J3YxbetpBnnNcOm1QeqkFiY2ZBJ+iC4G5u1q9gAoyeBojG0wJ/KGBmgwgl/Vz8irw6fZEo/5XlVdoT6AKuTY+QkyUiimU+IHOEdfYKTVKEuPajFfX71da77Xc9IXDfrcy2jz1xBQ6YxbiFaglXtXYlwpC4f62TK/r7OxK5XpKKDjJmekkfgeI8w9mZ/Ut7vKCbPGHXb3W,iv:QFEUC4U5tD9z2Dt6I1f4NygLFN5QHQ1eI4YivnVvbRQ=,tag:bnQS0JMu2iBh4NGeXVJu7Q==,type:str]
    key: ENC[AES256_GCM,data:iwYR/MB2REbUD8oInpnBUsTuMp95jPTUS3WygY1CoT5EEkALYrtlEf4nGRScmjycCzzuqjus8haN3Eu6WTCqAgBTjUJDbsubaGgDQP4uJv1R3PGPj1mbqJwU7ubnb+7FiyLdHdUAkZGtanwbsE8CAW2zDYn9tnJzvKbFa11aENr2hE67zzjcus9JOO3gPCfoTtuh2pkIy2zuo5b6qR71/Yxr9DkLP/EWXSNC+Q2kjNGgnuWe,iv:S1YArkzgMUiBOKBwNSDhYjD7PvfY/IRT87oMciOWN+U=,tag:1JSiegGHAjTSWpszSWeJCg==,type:str]
  # Extra certificate subject alternative names for the machine's certificate.
  certSANs:
    - api.owncloud.ai
    - talos.api.owncloud.ai
    - 192.168.50.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.34.1
    defaultRuntimeSeccompProfileEnabled: true
    disableManifestsDirectory: true
  network:
    interfaces:
      - deviceSelector:
          physical: ENC[AES256_GCM,data:CkdzsA==,iv:CWUNVkZqwrSpm8TSbInQXzgUa67BDcJ8+MORimFQnc0=,tag:D67ej/PzXUw34/89hvGn3g==,type:bool]
        dhcp: true
        mtu: 1450
        vip:
          ip: 192.168.50.200
  install:
    diskSelector:
      size: '>= 1TB'
      model: CT1000BX500SSD1
    image: factory.talos.dev/installer/c9078f9419961640c712a8bf2bb9174933dfcf1da383fd8ea2b7dc21493f8bac:v1.11.3
    wipe: true
  registries: {}
  features:
    rbac: true
    stableHostname: true
    apidCheckExtKeyUsage: ENC[AES256_GCM,data:O22ZcA==,iv:rVqQZI9LyaKTsMD24rQl6fzwQ2JBv6oJ2jfhFbNKifo=,tag:DaSGn2IQryouwGnJG20eeQ==,type:bool]
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:reader
        - os:admin
      allowedKubernetesNamespaces:
        - kube-system
        - actions-runner-system
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  files:
    # REQUIRED: The following documentation explains why these are needed.
    # https://spegel.dev/docs/getting-started/#talos
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
        [plugins."io.containerd.cri.v1.runtime"]
          cdi_spec_dirs = ["/var/cdi/static", "/var/cdi/dynamic"]
          device_ownership_from_security_context = true
        [metrics]
          address = "0.0.0.0:11234"
cluster:
  # Globally unique identifier for this cluster (base64 encoded random 32 bytes).
  id: GsSf9LerhTOpktH7JMlySUhdB4tdxlX1b6ZDGM7a8ZE=
  # Shared secret of cluster (base64 encoded random 32 bytes).
  secret: ENC[AES256_GCM,data:E6uL1VcNNs2wnFPl1yNCafZ96k7ERcGbIQedoHWuYlJE5SH4Fg2ropjo0mA=,iv:hi3DfDYC/zrDvoi4kcjOhhqCr5e+cdweIxCJXbiObwo=,tag:LkIPeks9iujBNMOjWwbNjA==,type:str]
  # Provides control plane specific configuration options.
  controlPlane:
    endpoint: https://192.168.50.200:6443
  clusterName: cluster-00
  network:
    dnsDomain: cluster.local
    podSubnets:
      - 10.244.0.0/16
    serviceSubnets:
      - 10.96.0.0/12
    cni:
      name: custom
      urls:
        - https://raw.githubusercontent.com/xUnholy/k8s-gitops/main/talos/integrations/cilium/cilium.yaml
  # The [bootstrap token](https://kubernetes.io/docs/reference/access-authn-authz/bootstrap-tokens/) used to join the cluster.
  token: ENC[AES256_GCM,data:bN8hqoO1X5SVp9xzDiV3F0bO+h2PdVE=,iv:Oz0ElHENh2sy2Yprp4hEW7aPtgMLGlbBpWIJmNwl69U=,tag:XyvxOhbZRIOJwJQ5JzmT+g==,type:str]
  # A key used for the [encryption of secret data at rest](https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/).
  secretboxEncryptionSecret: ENC[AES256_GCM,data:ghha8W+n97/xIebGRQTbcpSSpL98sKs+mhvt/tneCBopUQBYh09ZOJxrY5g=,iv:y3mieIBxORHbL0yuH2nDpB2A242IcMVqeECGEOelYno=,tag:mtk6hwhE/cSAaA82EoFwrg==,type:str]
  # The base64 encoded root certificate authority used by Kubernetes.
  ca:
    crt: ENC[AES256_GCM,data:HCYDW/0mfQGqR4bam/rJik9fBzKOLyE6THwoS859/iUXtt9TGj1AIrP5mBqx1Z9SQaRrWb84XudQlN1QxLAXQgXHPxvX4cCa5OUnuQ3/uhEuqOp43+Vrgr8MXld6otGhBF+P9w2z+0WEPJWqmNz1Lj4Q2c3PWYeeuc84oE7QjDHR2OjkuPQwsAY8Fnli81+RAHZXmlRIXXsbTDvVbmlcMIRGkZc4CFMfurZwkzgzZtOaqol6POU0vVXDtU2AIhW6LzVxkEUDkbRQzRix2N32KJ3V85H2u3+d+QOGO4yJ/12R1A6xg+GIYKWhOWVzimR7pIu1YHBzGnE/ECAAt46c2BPLVpkPU6cESKicGO552W6aD5X9Mmp7gmgQE0xeki4/BdfNkGVKE8zhpsq/1MRtZ1AoA9RU+LFNiFr31ldrsQbOH6/wH19owVt5bSGWnDPWIVk2B4vUBxPna7wdsU6KEY+r42egQLpa7AQZIARscipm1EFNjuyQhk19bunDJa3Kjv9/p3JOW6+NEIOw8fhiUMphaiD6Lxurqc12QJVg2lFaOLz1J/iNoj+vC60R/xZTSucOzgH5oWG9fP2TKYw/sB48bfCXy0JOXGsExRr4IPeOGU++LciE6OE5yU/5OjlbwV9UzsAqaIMs5zs+0ZZ51a9nfu77hceVLwvM07PFxUntAETell65V9b7fORVLPojtY/9mFjI5lj5pH5RkPUiV4uDd9izUhogMhyD7XoUmd52xsZXMHIzJXIqbxBgjtqdb6ieFNoVDYx0OsohEIxD7fipEIICUyOxDmzcq9tJxBl7g29Llh8y+otm8VHnXWgXF8IkyP1slSunsDsyFwk6m8GiH+ihZ+EPyYmvIcBKwxBof/iJAvHce00nrn8poaklhoWOrbhr4bL3o1ur8eLto6/8binA2GoRU9WqSWP/n7u9m4s0WRFgKCDXUaC45T4/yQHdTkwvmE4kjNy5IY9kuW/A06tYy3dCvcW11hBqeTxYg55jGa65qpMria14O8MSHFVvTEwwyu440ZTm7x3FTDAmOBTibPNEjm1mlA==,iv:Qxpt3L9SJzNKYiDoipApLVAfjYercwv0czB+cguxjbc=,tag:m3ztI2OjWdQ+mT2fUFS9rw==,type:str]
    key: ENC[AES256_GCM,data:UjIB3ly7SwfPktdR1uFV0fNn7i+qVx3P/lSymjV+Yn1cWuZX/LpavZsVJ6ehDkdstAmfBq89FdRBEF5yeFH127clRV3Yu8MHXClWvlc40bm2FU2cDgR064urpVIXHW8XJtbS4V6jeFBGQw20fRcJ2/i6sb35C2P7cuzzw+vX+j1YuMVWxHeCpbtXTTtXjbU164vwmzhpwxxW6m31HAk2BBsiD+eERmSjE4WAk4gCtp18R8+SBucTo3tmXuyYqNugjYLsN9QeJBxs0BW3g6oqe8SOeABRKoGARjw9IhHaHcBowt1amiBQI7q1KjiIjfpTge38L+8topTsxst6a6OcST7ZT/+O3cIJoqy57EO7ULEKhUbfgK541A+iPivq6M4TUo5qb1N1ZCWivH0AZ+CCXw==,iv:WWZj2RbPsDdYAo1X6yXgkN5LsTz2ZRBEPub78GQIoMA=,tag:SozwA6oOFFmEhhNZPXfQqg==,type:str]
  # The base64 encoded aggregator certificate authority used by Kubernetes for front-proxy certificate generation.
  aggregatorCA:
    crt: ENC[AES256_GCM,data:OOxatbeZCZC3ERQp0FwIg1SggO4U+pVgPTOZwVYaMxRZvdLmlqf+bS4gb9K9lxOSwoG7MIhW337nJAKGsElPMYx914EuQNI7/iLGbY/m9zy0JzxQVhGNEDYznbNI2Df4wDF86Ergmz8+Pi17hU0Pp2yEg8Xbr5a9QsNIVqXRU3Ue5BRrJJS8thxCU2ev7eVgISujf2TMy8/qAy0RV5ReQQBEWyx1nwUqAV76C6tWIUEn/0OS7ovr3R4BNNats4QFtoM93jqx90wdQR129QBZGAuK8vL2ckOJ0lz2snVVVORY2bMZFHiK0YXXw67oXxfLSTE4D5VHS58ONZCbcDe7OgdT/FC/855mLNRRDPsi76mRm68Swgj2UHhpzS5AutzpIjdO49KG2SBn4gHwpj+zzNnsu/YnOTrp1gYdmQ2I7/7da3lp4pt37J8UQXC7Eu//sgugr5EgIrQuB/JEOGufFnMs5E1iGmJDkvnbktfvyjmUMrtJyK5gyaurzeXCGnubWlkYczt8hah9Vsd3fI0/BFhTnsWbc0qOd1mWrm2ONNuOveNiy7jLan5vuXq1b3MB+gLQXWK8gsvIEEDlCPQFgw42XovhTmKJgqPotIJTmS00kKM9pJqGZ/Z8HcyJ/dEfvmLvUHM4zj3iDtCBdACQWYHo45Fzzy26vB8LHbJM54yg7z7VjSzTu8DzGOSlS6mlfTzI+EHAPo5NW/uUBzkr/Ilj8uyiWouJFIaRQRTMg7lIp2qplf0v2St4dbTMcBc2z+chzBo4UfrRi5OVv1b9BJ318D2m31iqcueRLys1ow7sWSuevI0l2R1k0P3647E9K99/RHbe6hCxxHm9yvkwse3xL7Ir4ZXGRmRmYWwuDZI59nleSTGlwbZfOWIMnWB2ycEDh9lBjQ8SqZKLQTxw1ROLNby/lQpm5UPvSRSqcerx+btY8iR9wr5ocuyKkt4a,iv:MoNSubHK4RS7INWChIXgp/0B7spRv26lkAJTPYUbwxA=,tag:vx/TBqXxCaOXjhexYbiYEw==,type:str]
    key: ENC[AES256_GCM,data:VYIZl1pDRLn3FqMfljV2bEz45i2hevsX36Q6L8CRxS5RkUXpHxt37RGGAPvePl8+5MVznmHmBGyn6Ej7lEb73TJb420+N9GwkHg8/14pFWW9vBux2vndNwL7MjcVTbyW3oDzOjnS0a41b7q2m4W28nRxEPYW0fG3d0vLuYeVx7vKSXcsMyJK7pQLyqo0jSyMTRabAqw+BmwG+DkKR0e4Yf40+OQdR4Vud1dfNHwjp5MBOiycoubnc83w5kgGBJrJJ5mofPKR53yRBgAp5eAIXzCYrJLyVvy2BXVoMmq1VDDAb0DasQT8nLJkJX1Ogw2MJ05pSxyLLOk2BPtXCk5HYF5wHiooEm39fEhO6GQzYBc0pdF1aOAUsckb7rqMBrpPxGhudCNpMuroXyuOioxkFQ==,iv:aAq47QOUjbopBRqTLFm537+KpKkdVD4tfKug5Tmr5XQ=,tag:J5safMnANajSUO8bamswsg==,type:str]
  # The base64 encoded private key for service account token generation.
  serviceAccount:
    key: ENC[AES256_GCM,data:yKJg/0lMVq9QteHdCC36AZyRZLCCmgNVkzXRRAVTfQZIESIUJ3zdB0MyQQlFh+s8iTVeQfTo7cXBW1s8O/UdNqgbpy5nsIBLQfVrNXY/RwWUxUFS67sAhQ+OfVJKrET4zhFOjKUAqsXU4vDU2vknSqHrGNyl2mnftzXpi0hQKytPcPusNxDqBTAYP/DJCpkhh74Qt56sYwQrRCalMo8wSW4936XQaO/v8U6zXGZZwu59tIP9z639Z0c15nEjFk9QgJLxq09KaidWxxklQv7zKpOGO+sur85ctSmrB4DTwIHpP6h++vrosw7oSbpHTiI2EaKhqQH1qF+Co9vNUAaJ5cgsqLMIU4bZdC2oueTK3mJ4swL9kXLT6P9JuhEk0AfgbUC+X6Fy4eg2CWHwjjgpA5dUTi7ghpRNCLVK3w6YIAVyEW5MEwP4zX+dT015OoASgDCcrqioRub3POx26xk7ggzOgL6feguhQ3tSrfu8PK7652O8aZc0OrMdQ2AQoQ+EWGFMwV7X8ify2CuHkhnMbLBkwa0H/3KD26QAci42hHnNr32dnfFwSY0DXbXSRS2/zp8yY/sjO1s/btiZ19mmWBnM4NU2DmSg6Vrb4JQRc2swxrTDwUOj07VtvX5e7oac04XoxM+AwdShdBykGVw5TgS8LPeYinpp2qRAUdLiJEoNVoMs9xzN1i7rr7mEAB7VzSNI4/wyGe2JCGeyh2OkSaEkXlbAVF5bGhRGgBlhne+wf3edZPqXPyHWVb8gKwnd3wYhIFEitpGMred7YGbNi0qRgQYYQgFFyoJPuwEaY5tdu9N1ncmOIbjQrij6dBxmhETpuMby0vn5EwErVJ0vj2AyrgMCZz2rJrOplkj1IH0CjKZ/dW/EmlqIv7wpiIr62fbJiPF+SydvSPtKSu6X0eJKPEx7L8U/rw5q5QEfGQRJcrVtbvnxwhYHG3HXIruyNH1j/TYTktMiXuV2ZM2LMy13GVRMuNpvK0hSz6/TDUH9QI7DTPN+ieXUnMJFCbSc8YU1biWYzOpz+ISUozF2POTMTrqeBqqcK1pGAih0d7pyiNPKY/Idtl8/zZ8xnSbgGwSFzxd/ZuvFnXON2dQzWD1+UcXy9y1rA2k6aWmW4JQ9/5R2+pWr0DTU+6XbHikVHuulwLI4uHeIvZZHRpe0ZNU0hnW3g9Y+rAeAKA8m7QJVtG344uapeAsZYNrHscXczJGhtoi4PLfX0uQ5jyDgEMYeJHcdWQt3lRO8P1nGXl4tTmFhoAX6t4H76ZkF9xa4Mir9lzab0qi1MwPnRTS8hRRhVt/d9wu5bvmdircQjx25oV1IixDRLoY8PBQOocpcJzNlM9pzCpHh4MtjC4fjGZvmU1R2STVGHiNKyQKlRRJnbaLk/UQMw3E691UgUZOcQUmspYeFYawRqZbvdSC0++BjmwokgquJQtdth1BCeXjrPvKaJLvwy5axEazDJmixQ8UBWFLDUATxFUBSt/wm5GqgGBIrI6aZOpCT1QQUdAugtQcEBFrSJwWD9wJD6UyGZcFET7aMBU9MuICAjq/81s/zIMsePRM12TdISQOmqPzLO4thNJX3RxhBS7Lw1OKOiJf2opVa1d2a+SL1ysL2Ym0aD6nfZBYJeMD7dfuTK2G3qIR7crJVLdHy3D4r4+mOEd8xoGVbaYP0UFIPuxU4uDrOzPXz0K8GGNvrs7ub9uvEkdYZArs+SR68Q2E2s9iklthBx+2O3jArK/ha6HN2d/kv5m0077zi1urI8pXibGRtj8A3Fym28ZQHctlO10uh7f7Tc6v2Ng8w/h/IQ56SiGqOtXsaY91YYq7166J5QsPycxhpdxyZAyO/Ju7H0oevRzba34f8EcdXZn9uK5R75gFqFM6UkGoCV0kchQ8pUwNU+JwNq1YeAQaIyFf3UUt0ixXBD87KHEs35tzy/psKijmBqiCZTawS7g3eWo6U3qwlq+9R4ka7XMGyP7otPw5rYjEwI7fQTEpn01iwHwM/wuQIba85QmM9II1jPkFXb44A4lm4zcl0WMYDlg5N0fjjMUwsqMPm+QD50uFkR3/ouJhErzsbi9jZA2hhYEg+brSou0TKBgVbWmKQcn4TEYi2euhY1fwxaevxnvOquphxHP9SIqcgk7cPGBiepdK8Utkqt/s4OYdaPNyjhkd7ILaKCx9YkqWed4NCMvVnH6q/59UxaRjk5xNReCinREn7YefH+kozkspYxfuWebCBwOdGuQbwZBxlHlr++m2kI7uG6W2ioA/PoFgzG4YwY/GogmqsiWarKU0YduYAjGzD2BRKWlyEXS/TKKdwhqdwa8Xr98U/6vGiWZ27a1ulWKuTvonD47Xn3rGPWyBxfWBuL0Cj4pav3JijQyYtfyyFOTn90mutAqTuq+gI2lFTNXz2FBniHO2c/hrZP2isiNyLO8QjLyMcT60nsXexa6iYsYSzJltiAwOg+EXxPLft4ob7dF8jmnj2IAVvXuoqZvgJ75zXHAElrcx6iweEoMvYQinvAv1u3h/GbQeGN99yBGDOtHRv3tkycXpVoLWmLcgbtUxKBCmoavXVuStGBKlJ+RHhURUtF0PlKyGW7rlXm/hFngnWuFLHC0/JDVlsCyS8uaP4OXorbE2NH7AQgJcUdxwPG9bhgVbqquwaOntcIXqdHvRdopFdWCXuXdKzLKJemZmG4h5cKV6zWmI1qOkuNShm/jYB95E5F3kTXRJvGTWpdykhg2kEUG6HJV9jz8y8yRNI88/3Y9oNkuW/QzJ86A/gn6rl6e/5UBp8bUqOVtYtZ5088JF4H3bKl1VBnHjSBqV2TkZ3hVyZ6LbRgess/mv37foZmtAYfzyTQa5ffVRIep4nsgjv5tc4wZwvVUSk14M7iAtR7fH8q1Yqzaoqt6k9sz29dBuX98a4GozHo+dMjOlPhWGSmgime3ez9Gb0npCD+XFATyBHe1qy7tm4uNVv/fbwFt8hXn6qteXmCZdV+y8pDCAYwQDgr0eK6uuekgnNUtylsBIKshNKjUmFnxq3tFrEI5qhcv1Gp0M2gQPBaYTkQuZzFJwzsKSLT9IcrD8hS4xgjLvFtnMF4+NkqHG1kSdXewD2Ls2eD4MSYLQDTcBz7SyvjuC4QJyypkAc2e/YBTVQNPl5NCd4cQhZe5FYIUCk5GOo5KLXMMlg46YRBtqV1jyw693RX2nCbgnJYn0MyL8Pmsh/Ku7YDNXTsgBVDXSZO9ziwZIalaXY2r5fkzgDeaz3/NcX+pvj3q56rp4EpV1tSS+hLLA+I45Zp166M6fYFU5LHlaj44K+ez18DoN61ZeYfyy2rqxT+7O/uA0rK7AlP/h2aMB8AQeRX70jeYrNCQtEHePi9i7hLYlzzC5BID1WIcIUlqUkEnVPTPVEIJ15oZp0MiaLiZgQ87X6AV+6cag/vbmCrMfP1FlxLcSl76YKaGwELqCdASceec1CS2q8J51+/nSo+BpsZzjI3I2mmcMtx/pVfK6zCLgSH9I4XmOvvTk5b0SRPsRnAQcqOhPdqzmJ2xMgJG7Fxkggg/x0birPirekRsutDOQ2K076/+dDwxZhwr80/fX4XnETOTKZp6K4V63OyWM5SAROw0dpvZL+zT4X8BbW3uW/mphjl1vuuLc/pknevgVskSdw46nLsqJdjREWXJLesoDP2VxhF9fBvOg6WH4WcjcZfH6BP8b8J7S8YPOomGEcCM6/Ck/bK1icAl+fK+5RguvFk9I5cErjeS4NPdfNWI9B8kCLp5QqkH85N6e9eqsYEWkXlASw8Tn4LsJo/KYee7X4rwBhZn4JQHLDL3owtAONEzLtl8+D0MbOb8hd9ymBGQBQfhlOmM7IehIhdO/BgM+y0QSEi/Nbb+ABWhB7dDmgZTZcrl2mNLukgkDEG0pZ+KjaEPf0Mzw6TS9CRNtx/9PqnDPlCwSltwDfTAHPbriQIASipuLqv1YxKH+eD9NhSlJd+6YNq6GUbdvRyvFIbQsJ6cVIo/Dae1odQlAVu5LQrZ68Jad7ppy1E2YzN7EWN94dzgJFnR1N0NvB8vS8wuGUaTpHL7BXSqPjsfRwEeksk8RL12vIFrTv9QxCCH2ZzBonQlnQsXu2Y8EwaM94EI2bcwiX2mIOPXRqPyyg/W863K4QlZ0ZV4KBN+fVck5fafFhg/m/Ipu0lifJTRLe5Vr1+VURJ5BL5U7MNjx/6y36KO9hx5/lo8N9nL5W6exPke7nzPnFnjubu9nJpDew+sKWYScr9YIrpbovpv6GK2lG+FOdQAdwEaKKXmZ7KgzbGTvKMEZoJxbfCUmXbzOzBW3k1dXhHgwIUymlRf1cdKUV+0xwlhvdcWk/BEKkhNfknhGHH56s1C9yPW1omwyqH+B/yf+y6paTOvUeEh4GsTl6bfp6vua6QYbzsS1yYp7HQKRf8xLvyVIobLLC4RlG90tsQIs77pX2wU9XexTYGaqYgToLHdruBy9sO1FRzmUbnH4Rk5Qa8+guHfA44nv/Hyhgam3psJc2F0sKWrQtKFWHRmeT+bjAX3ObATjXXufaGdbahsqG3RbgTjSazKW5yfouTmmglhFZxLcr4C08dDEHQLlIe5Q4ed1Q7YSBWmQroMCUgvGiWnPGA0BcUpXGdzkNiqyim0Dks1Ox1oSr78ATy+k/BBLJ9kG3CcukMIYgAU+TGmDl+qdDhxXxq1xAUvgwUdzGbQ7dB5VmqrXNGry+M+M6ngv2bPMEoHIJKnmE12P+DI2djev7LwajV+ybgW9cZrNx/G34+eVmdw+rCvKDTeA9IOKSOSEffPaVJ1ShmAOgYujDO1HuHQpseCLZk6+yULPwA46+EoLleZquZ6BrsAb1gJBWeWiTnKGqysYnedmHoVmg3MsUYjaTGTJ1QEzQBdUYzdIFAIND3C+UUvkiV+P6uzNZdjK7cBjFJuEHX6UmtxcSBHB/uMIoyIOG8yZ9vUf5zsDojGJ9HaeVk/rDMqLJJMnEN12uzIl8/BruIy0PpeQdeAtacnxwVPEu6cX3DZj4EmYNb/of0fwL5MzdAFPhTQqP1E+N3yQAAQIMr7D8j/XiQrkjHd4UrfPUjcRMD4h8ikTjrZE9p7d7gbv6dRiV+W2sGRruwFma7ZMaSbqTMkZ4qwBtQUEGl2QIKY4P+gP4ZPxd5XqWIrNNDvwYj+Gg84ZRPDwyk026ZQR4ZuFl/wbp3dKrGCwel2lA3Hyt900RiYhf3HRtZdhzpbDgbwZbimIcp7artcr6yU185uxF3Hz/YY6+3eS72BLmRw/IQ1ThR9JudfiWkncsYLoN8zxG8DB70S3hb5GRpS890SvsiTTcb+BYDxYHlzxzoNtmQEseTm9kPYYAriWDheQoz389jZVxjuQx6xZKiSDuQBg8Y03QWAwf38NdFvBt/JT7GLC90nTxvAT3myT4blhYFJBeqj3CrBy1ZDHYK9oufBYwYZDtBOUdwFeyI/R2No9tk8PI1urBWSyAEaL4kL99VftVV0NqbyhwwEbLrCWdkBz8AHhwdbOavvs1FxWAmpNy+q9tmgGZT2TwN1mAwtOu3yKueIbDhb2HLIGPudo7Jzs+27txyuJDD843hoGp3PQl6ysMzYYC9RP6U+8LYbedGt+Igg/rB+EdhuCAMhIvk4U/V7sOAU4k/wk6UqRIDVWT3X1lFS3pQynJfCpODLxR8r0P+Wi4/mS4lnZKh9KWkuYUL+irdyKFhRPjIKazhd4fOTNaq/spgtSF6lYy53YwrgUdtsSfC/OfS8YZjDJNRP7lFP5IEg==,iv:5UB0kjGL2bAxjrv9iRqrRkJ9G5CMkAq0/2xUNKvKJ5A=,tag:1iMXo68oPqgFq57tNZlnhg==,type:str]
  # API server specific configuration options.
  apiServer:
    # The container image used in the API server manifest.
    image: registry.k8s.io/kube-apiserver:v1.34.1
    # Extra certificate subject alternative names for the API server's certificate.
    certSANs:
      - api.owncloud.ai
      - talos.api.owncloud.ai
      - 192.168.50.200
    extraArgs:
      oidc-client-id: dex-k8s-authenticator
      oidc-issuer-url: https://dex.owncloud.ai
      oidc-username-claim: email
      oidc-groups-claim: groups
      oidc-required-claim: email_verified=true
    disablePodSecurityPolicy: true
    admissionControl:
      - name: PodSecurity
        configuration:
          apiVersion: pod-security.admission.config.k8s.io/v1
          defaults:
            audit: restricted
            audit-version: latest
            enforce: baseline
            enforce-version: latest
            warn: restricted
            warn-version: latest
          exemptions:
            namespaces:
              - kube-system
              - gateway-system
            runtimeClasses: []
            usernames: []
          kind: PodSecurityConfiguration
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    extraArgs:
      bind-address: 0.0.0.0
    image: registry.k8s.io/kube-controller-manager:v1.34.1
  proxy:
    image: registry.k8s.io/kube-proxy:v1.34.1
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.34.1
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: true
      service: {}
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:MZrHtJJMWGB5JvQy5ETDp7zFFEi8R56BAXNEjKFc/zLHTJldi68hc6LR9H9x2zTxNUd6OlIN0wAR1STbX/NlwiYO42yjewVfqaaZxQBFba3oGHG1INc63CDQWUnwtuVUZn61m06O0J7jX96bx2fmZBw83e2wjV7VmGKS9HTTtzecYj2KAHaYfXcq33pQf2nnJuVt1WylGhYrRC5VFIhYQ17xrC4f+ENDslBJ4NuQEQ83XPgF3CohQ+zy9LsmxTs/WBfeld8q+7lM5dy563JEzWQ3tVk3lDbD+LXSkaiO/J2VDKkD4oDqbjmK6NLemjZHfOhvVFwc94xPo9C5o6OlDeq0zkBV6le0xz1fTY2xj+aki7gQqtMM6ki3Nwk0LI1cNAMTq7r9o5ZYKk5i20VkiqTjyt3qr0K//Gblq1BK+Y9dgWzk9+3gUSLLAPJYAQq6J391fM1gRISqylbBDlcekSQbraXrxXJ7MpXkvD7rVsKsbYOd0ZD15fqkdBKhTF/wi+Gvmtc05gwmy7SZHW4Bclj18fMQ9VpLLq7epAie+dmAT8Sur+tR74URl6/DdWXc1zNoSw3Fri8OyzFloeqSmGCv6TS0OU2LBtSsmjuNiKLDuDlG3PPX6+VS/cbz6dPsZHGCrYAd8GdYJ+zmDrKk9sZDQXfKRT5X+rPwA+MfpQRBPmL3E3wSjZqKjFoKBAJW6RJOzW95abiDKbsNl+PsDcHcS0Gjpi67tjW4sdNuinFfM80nXWAJthtIHrrkhYM1VJ0mop933i6Ftaiq69VDVcX7UKHkHUfKMbJEez1rbjonp2eNGznGuSD/BEu5B2mL9eDIAI2cALfwymZdcJaCje5RNakTVvjTuIXzBoUU9621cbst7rSP8eYzE9pXI68KjIe+zj3xtnJ7Dlh+HGtesmowSIhALNuMGvy2/yZ75ksMMLrIZrX1fX5fInaNKxwWU/Vg/f0gLrf33SUaHS8pppaGdugiLVx4TlKNnpk16w2vULIma3bn7C0iKd+WcTlN,iv:PB/ukhgT07W06O/eqnBxGQrqFd2L7wLP5Oxf+6AcqpE=,tag:4ZRZYEkoQ5URzn5BeMcvug==,type:str]
      key: ENC[AES256_GCM,data:XTDJlJMA+Nmv3Y6pSoHnxTqiVCuB4yABqROu+n0fkSjWS6mMpzpPE3GkvBR8cT7xAUB6mFJfaXKXZuk259sNNhQxR9bizkPIzUQFLUWaLVaNu4U+5t4A1ESDYfVM57aI5BtuLYHcaVAv/FIB9NXiGdAf/lDAZvLLPzQRz0Ztj4Et7F3xwI4x4LpinOV1NoR+hnPGdx9rHnJjNax0YVNYOp9G6uChzj8WVxq/LuRimdxRx0zqm1CENAufV7FR82ks57ZLlZDiC/bYrV2kY3IiV/8cJ784Z2SqgK+mL56KbQuy1LcN5w7/NJYyWwNj5lNDlTVwfZxxcvjAYopyYM6nSWmNmsxGDP7qCxzAfF9/le/qxBFTYznvt7JtXt2y2x03fwh88BUlmPHSFQEkyo89bw==,iv:1spTox0dhqM49E0GUI46hEikJYv95YnGPFlW7rCYu9g=,tag:S9bKTAyYuQaimFNbUV3sVw==,type:str]
  extraManifests:
    - https://raw.githubusercontent.com/xUnholy/k8s-gitops/main/talos/integrations/cert-approver/cert-approver.yaml
    # renovate: datasource=github-releases depName=kubernetes-sigs/gateway-api
    - https://github.com/kubernetes-sigs/gateway-api/releases/download/v1.4.1/experimental-install.yaml
    # renovate: datasource=github-releases depName=prometheus-operator/prometheus-operator
    - https://github.com/prometheus-operator/prometheus-operator/releases/download/v0.86.0/stripped-down-crds.yaml
    # renovate: datasource=github-releases depName=k8snetworkplumbingwg/network-attachment-definition-client
    - https://github.com/k8snetworkplumbingwg/network-attachment-definition-client/raw/refs/tags/v1.7.7/artifacts/networks-crd.yaml
  inlineManifests: []
  allowSchedulingOnControlPlanes: true
sops:
  age:
    - recipient: age19gj66fq5v2veu940ftyj4pkw0w5tgxgddlyqnd00pnjzyndevurqx70g4t
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBYN3JHNGlFYzlkQmR0TElv
        bjN0Y0EvV1lEQURWdHBpSytnUUFrVFZIN3pNCmV6UjdzbHdtUFFKQ0hsNnZTNDA3
        N3NGK0VIZXQwVnJBeUw2eUdGZUU4S2sKLS0tIE5VRTdMTGo5Tm0vSHozbllRNVRL
        OGJFODFRcytXU0NMaGwwWFQxNkJpM2sKSC188Mx2tAUQhDXlLG6yyJuxJcLdNq0C
        Skha55F/KrwONG6mlo3AiFcFFY4aaO6rH/aqbb0zrSFkkGI5xrGbSA==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2026-02-23T10:09:39Z"
  mac: ENC[AES256_GCM,data:XRRwpNvE684bqhfcYPe0XdWP2miXSN3gQLID2HR96djwVz6tPHmhiIUP3VC9WrSCuHwSwzCAlEIsEQaHOBA3pyVym6RnJsSYYUh/2NrQxsZpBaeIfydsjrK5gAK+MUW+9KOqG7uq/NITur9andJKCWQzt3DxdZq3Pf3wjItYH5E=,iv:RV6YaheyZC0H5plBj/gBKVAocseIM4vLVV0OzYeIrx0=,tag:aIR9JyfWeJuLloqHw/C0Gg==,type:str]
  encrypted_regex: ((?i)(pass|secret($|[^N])|ca|crt|key|token|^data$|^stringData$))
  mac_only_encrypted: true
  version: 3.11.0
